(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{301:function(t,e,n){"use strict";n.r(e);var s=n(0),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"react-åº”ç”¨"}},[t._v("React åº”ç”¨")]),t._m(0),n("h2",{attrs:{id:"ä»£ç è§„èŒƒ"}},[t._v("ä»£ç è§„èŒƒ")]),n("p",[n("a",{attrs:{href:"https://nefe.github.io/one-design-docs/#/docs-code-code",target:"_blank",rel:"noopener noreferrer"}},[t._v("Q A"),n("OutboundLink")],1)]),t._m(1),n("h2",{attrs:{id:"vdom-diffç®—æ³•"}},[t._v("VDOM  + Diffç®—æ³•")]),t._m(2),t._m(3),t._m(4),t._m(5),n("p",[t._v("ç»è¿‡ Diff ç®—æ³•ä¼šè®¡ç®—å‡º Virtual DOM çš„å·®å¼‚ï¼Œç„¶åå°†è¿™äº›å·®å¼‚è¿›è¡Œå®é™…çš„DOMæ“ä½œæ›´æ–°é¡µé¢ã€‚")]),n("h2",{attrs:{id:"diffç®—æ³•çš„æ ¸å¿ƒå†…å®¹"}},[t._v("diffç®—æ³•çš„æ ¸å¿ƒå†…å®¹")]),n("h3",{attrs:{id:"æ›´æ–°æµç¨‹"}},[t._v("æ›´æ–°æµç¨‹")]),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),n("h3",{attrs:{id:"_3-1-patchå‡½æ•°"}},[t._v("3.1 patchå‡½æ•°")]),t._m(11),t._m(12),n("h3",{attrs:{id:"_3-2-patchvnodeå‡½æ•°"}},[t._v("3.2 patchVnodeå‡½æ•°")]),t._m(13),t._m(14),n("h3",{attrs:{id:"_3-3-updatechildrenå‡½æ•°"}},[t._v("3.3 updateChildrenå‡½æ•°")]),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),n("h2",{attrs:{id:"å¸¸ç”¨ç»„ä»¶"}},[t._v("å¸¸ç”¨ç»„ä»¶")]),t._m(21),n("h2",{attrs:{id:"ç”Ÿå‘½å‘¨æœŸ"}},[t._v("ç”Ÿå‘½å‘¨æœŸ")]),n("h3",{attrs:{id:"_1-reactçš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Ÿ"}},[t._v("1. Reactçš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Ÿ")]),n("p",[t._v("React é€šå¸¸å°†ç»„ä»¶ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š")]),t._m(22),t._m(23),n("h4",{attrs:{id:"_1ï¼‰ç»„ä»¶æŒ‚è½½é˜¶æ®µ"}},[t._v("1ï¼‰ç»„ä»¶æŒ‚è½½é˜¶æ®µ")]),n("p",[t._v("æŒ‚è½½é˜¶æ®µç»„ä»¶è¢«åˆ›å»ºï¼Œç„¶åç»„ä»¶å®ä¾‹æ’å…¥åˆ° DOM ä¸­ï¼Œå®Œæˆç»„ä»¶çš„ç¬¬ä¸€æ¬¡æ¸²æŸ“ï¼Œè¯¥è¿‡ç¨‹åªä¼šå‘ç”Ÿä¸€æ¬¡ï¼Œåœ¨æ­¤é˜¶æ®µä¼šä¾æ¬¡è°ƒç”¨ä»¥ä¸‹è¿™äº›æ–¹æ³•ï¼š")]),t._m(24),n("h5",{attrs:{id:"ï¼ˆ1ï¼‰constructor"}},[t._v("ï¼ˆ1ï¼‰constructor")]),t._m(25),t._m(26),n("p",[t._v("constructorä¸­é€šå¸¸åªåšä¸¤ä»¶äº‹ï¼š")]),t._m(27),t._m(28),n("h5",{attrs:{id:"ï¼ˆ2ï¼‰getderivedstatefromprops"}},[t._v("ï¼ˆ2ï¼‰getDerivedStateFromProps")]),t._m(29),t._m(30),t._m(31),n("h5",{attrs:{id:"ï¼ˆ3ï¼‰render"}},[t._v("ï¼ˆ3ï¼‰render")]),t._m(32),t._m(33),n("h5",{attrs:{id:"ï¼ˆ4ï¼‰componentdidmount"}},[t._v("ï¼ˆ4ï¼‰componentDidMount()")]),n("p",[t._v("componentDidMount()ä¼šåœ¨ç»„ä»¶æŒ‚è½½åï¼ˆæ’å…¥ DOM æ ‘ä¸­ï¼‰ç«‹å³è°ƒã€‚è¯¥é˜¶æ®µé€šå¸¸è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š")]),t._m(34),n("h4",{attrs:{id:"_2ï¼‰ç»„ä»¶æ›´æ–°é˜¶æ®µ"}},[t._v("2ï¼‰ç»„ä»¶æ›´æ–°é˜¶æ®µ")]),t._m(35),t._m(36),n("h5",{attrs:{id:"ï¼ˆ1ï¼‰shouldcomponentupdate"}},[t._v("ï¼ˆ1ï¼‰shouldComponentUpdate")]),t._m(37),n("p",[t._v("åœ¨è¯´è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹å‰ï¼Œæ¥çœ‹ä¸¤ä¸ªé—®é¢˜ï¼š")]),t._m(38),t._m(39),t._m(40),t._m(41),t._m(42),t._m(43),n("h5",{attrs:{id:"ï¼ˆ2ï¼‰getsnapshotbeforeupdate"}},[t._v("ï¼ˆ2ï¼‰getSnapshotBeforeUpdate")]),t._m(44),t._m(45),n("h5",{attrs:{id:"ï¼ˆ3ï¼‰componentdidupdate"}},[t._v("ï¼ˆ3ï¼‰componentDidUpdate")]),n("p",[t._v("componentDidUpdate() ä¼šåœ¨æ›´æ–°åä¼šè¢«ç«‹å³è°ƒç”¨ï¼Œé¦–æ¬¡æ¸²æŸ“ä¸ä¼šæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ è¯¥é˜¶æ®µé€šå¸¸è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š")]),t._m(46),t._m(47),n("p",[t._v("è¯¥æ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼š")]),t._m(48),n("h4",{attrs:{id:"_3ï¼‰ç»„ä»¶å¸è½½é˜¶æ®µ"}},[t._v("3ï¼‰ç»„ä»¶å¸è½½é˜¶æ®µ")]),n("p",[t._v("å¸è½½é˜¶æ®µåªæœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ŒcomponentWillUnmount() ä¼šåœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰ç›´æ¥è°ƒç”¨ã€‚åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œå¿…è¦çš„æ¸…ç†æ“ä½œï¼š")]),t._m(49),t._m(50),n("h4",{attrs:{id:"_4ï¼‰é”™è¯¯å¤„ç†é˜¶æ®µ"}},[t._v("4ï¼‰é”™è¯¯å¤„ç†é˜¶æ®µ")]),n("p",[t._v("componentDidCatch(error, info)ï¼Œæ­¤ç”Ÿå‘½å‘¨æœŸåœ¨åä»£ç»„ä»¶æŠ›å‡ºé”™è¯¯åè¢«è°ƒç”¨ã€‚ å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°âˆ¶")]),t._m(51),t._m(52),t._m(53),t._m(54),n("h3",{attrs:{id:"_2-react-åºŸå¼ƒäº†å“ªäº›ç”Ÿå‘½å‘¨æœŸï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ"}},[t._v("2. React åºŸå¼ƒäº†å“ªäº›ç”Ÿå‘½å‘¨æœŸï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ")]),n("p",[t._v("è¢«åºŸå¼ƒçš„ä¸‰ä¸ªå‡½æ•°éƒ½æ˜¯åœ¨renderä¹‹å‰ï¼Œå› ä¸ºfberçš„å‡ºç°ï¼Œå¾ˆå¯èƒ½å› ä¸ºé«˜ä¼˜å…ˆçº§ä»»åŠ¡çš„å‡ºç°è€Œæ‰“æ–­ç°æœ‰ä»»åŠ¡å¯¼è‡´å®ƒä»¬ä¼šè¢«æ‰§è¡Œå¤šæ¬¡ã€‚å¦å¤–çš„ä¸€ä¸ªåŸå› åˆ™æ˜¯ï¼ŒReactæƒ³çº¦æŸä½¿ç”¨è€…ï¼Œå¥½çš„æ¡†æ¶èƒ½å¤Ÿè®©äººä¸å¾—å·²å†™å‡ºå®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•çš„ä»£ç ï¼Œè¿™ä¸€ç‚¹åˆæ˜¯ä»ä½•è°ˆèµ·ï¼Œå¯ä»¥ä»æ–°å¢åŠ ä»¥åŠå³å°†åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸåˆ†æå…¥æ‰‹")]),t._m(55),n("p",[t._v("é¦–å…ˆè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½å®Œå…¨å¯ä»¥ä½¿ç”¨componentDidMountå’Œ constructoræ¥ä»£æ›¿ï¼Œå¼‚æ­¥è·å–çš„æ•°æ®çš„æƒ…å†µä¸Šé¢å·²ç»è¯´æ˜äº†ï¼Œè€Œå¦‚æœæŠ›å»å¼‚æ­¥è·å–æ•°æ®ï¼Œå…¶ä½™çš„å³æ˜¯åˆå§‹åŒ–è€Œå·²ï¼Œè¿™äº›åŠŸèƒ½éƒ½å¯ä»¥åœ¨constructorä¸­æ‰§è¡Œï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœåœ¨ willMount ä¸­è®¢é˜…äº‹ä»¶ï¼Œä½†åœ¨æœåŠ¡ç«¯è¿™å¹¶ä¸ä¼šæ‰§è¡Œ willUnMountäº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æœåŠ¡ç«¯ä¼šå¯¼è‡´å†…å­˜æ³„æ¼æ‰€ä»¥componentWilIMountå®Œå…¨å¯ä»¥ä¸ä½¿ç”¨ï¼Œä½†ä½¿ç”¨è€…æœ‰æ—¶å€™éš¾å…å› ä¸ºå„ ç§å„æ ·çš„æƒ…å†µåœ¨ componentWilMountä¸­åšä¸€äº›æ“ä½œï¼Œé‚£ä¹ˆReactä¸ºäº†çº¦æŸå¼€å‘è€…ï¼Œå¹²è„†å°±æŠ›æ‰äº†è¿™ä¸ªAPI")]),t._m(56),n("p",[t._v("åœ¨è€ç‰ˆæœ¬çš„ React ä¸­ï¼Œå¦‚æœç»„ä»¶è‡ªèº«çš„æŸä¸ª state è·Ÿå…¶ props å¯†åˆ‡ç›¸å…³çš„è¯ï¼Œä¸€ç›´éƒ½æ²¡æœ‰ä¸€ç§å¾ˆä¼˜é›…çš„å¤„ç†æ–¹å¼å»æ›´æ–° stateï¼Œè€Œæ˜¯éœ€è¦åœ¨ componentWilReceiveProps ä¸­åˆ¤æ–­å‰åä¸¤ä¸ª props æ˜¯å¦ç›¸åŒï¼Œå¦‚æœä¸åŒå†å°†æ–°çš„ propsæ›´æ–°åˆ°ç›¸åº”çš„ state ä¸Šå»ã€‚è¿™æ ·åšä¸€æ¥ä¼šç ´å state æ•°æ®çš„å•ä¸€æ•°æ®æºï¼Œå¯¼è‡´ç»„ä»¶çŠ¶æ€å˜å¾—ä¸å¯é¢„æµ‹ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¼šå¢åŠ ç»„ä»¶çš„é‡ç»˜æ¬¡æ•°ã€‚ç±»ä¼¼çš„ä¸šåŠ¡éœ€æ±‚ä¹Ÿæœ‰å¾ˆå¤šï¼Œå¦‚ä¸€ä¸ªå¯ä»¥æ¨ªå‘æ»‘åŠ¨çš„åˆ—è¡¨ï¼Œå½“å‰é«˜äº®çš„ Tab æ˜¾ç„¶éš¶å±äºåˆ—è¡¨è‡ªèº«çš„æ—¶ï¼Œæ ¹æ®ä¼ å…¥çš„æŸä¸ªå€¼ï¼Œç›´æ¥å®šä½åˆ°æŸä¸ª Tabã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒReactå¼•å…¥äº†ç¬¬ä¸€ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸï¼šgetDerivedStateFromPropsã€‚å®ƒæœ‰ä»¥ä¸‹çš„ä¼˜ç‚¹âˆ¶")]),t._m(57),t._m(58),n("p",[t._v("ä¸ componentWillReceiveProps ç±»ä¼¼ï¼Œè®¸å¤šå¼€å‘è€…ä¹Ÿä¼šåœ¨ componentWillUpdate ä¸­æ ¹æ® props çš„å˜åŒ–å»è§¦å‘ä¸€äº›å›è°ƒ ã€‚ ä½†ä¸è®ºæ˜¯ componentWilReceiveProps è¿˜ æ˜¯ componentWilUpdateï¼Œéƒ½æœ‰å¯èƒ½åœ¨ä¸€æ¬¡æ›´æ–°ä¸­è¢«è°ƒç”¨å¤šæ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´å†™åœ¨è¿™é‡Œçš„å›è°ƒå‡½æ•°ä¹Ÿæœ‰å¯èƒ½ä¼šè¢«è°ƒç”¨å¤šæ¬¡ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯å–çš„ã€‚ä¸ componentDidMount ç±» ä¼¼ï¼Œ componentDidUpdate ä¹Ÿä¸å­˜åœ¨è¿™æ ·çš„é—®é¢˜ï¼Œä¸€æ¬¡æ›´æ–°ä¸­ componentDidUpdate åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥å°†åŸå…ˆå†™åœ¨ componentWillUpdate ä¸­ çš„ å› è°ƒ è¿ ç§» è‡³ componentDidUpdate å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")]),n("p",[t._v("å¦å¤–ä¸€ç§æƒ…å†µåˆ™æ˜¯éœ€è¦è·å–DOMå…ƒç´ çŠ¶æ€ï¼Œä½†æ˜¯ç”±äºåœ¨fberä¸­ï¼Œrenderå¯æ‰“æ–­ï¼Œå¯èƒ½åœ¨wilMountä¸­è·å–åˆ°çš„å…ƒç´ çŠ¶æ€å¾ˆå¯èƒ½ä¸å®é™…éœ€è¦çš„ä¸åŒï¼Œè¿™ä¸ªé€šå¸¸å¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªæ–°å¢çš„ç”Ÿå‘½å‡½æ•°çš„è§£å†³ getSnapshotBeforeUpdate(prevProps, prevState)")]),t._m(59),n("p",[t._v("è¿”å›çš„å€¼ä½œä¸ºcomponentDidUpdateçš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚ä¸willMountä¸åŒçš„æ˜¯ï¼ŒgetSnapshotBeforeUpdateä¼šåœ¨æœ€ç»ˆç¡®å®šçš„renderæ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯èƒ½ä¿è¯å…¶è·å–åˆ°çš„å…ƒç´ çŠ¶æ€ä¸didUpdateä¸­è·å–åˆ°çš„å…ƒç´ çŠ¶æ€ç›¸åŒã€‚å®˜æ–¹å‚è€ƒä»£ç ï¼š")]),t._m(60),n("h2",{attrs:{id:"ç»„ä»¶é€šè®¯"}},[t._v("ç»„ä»¶é€šè®¯")]),t._m(61),n("h2",{attrs:{id:"æŒ‡é’ˆé—®é¢˜"}},[t._v("æŒ‡é’ˆé—®é¢˜")]),t._m(62),t._m(63),t._m(64),t._m(65),n("h2",{attrs:{id:"refä½¿ç”¨"}},[t._v("refä½¿ç”¨")]),n("h3",{attrs:{id:"å•ä¸ªref"}},[t._v("å•ä¸ªref")]),t._m(66),n("h3",{attrs:{id:"map-ref"}},[t._v("map ref")]),t._m(67),n("p",[t._v("Now, let's try it ğŸ‘‰")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("Reactæ˜¯ä¸€ä¸ªä¸“æ³¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ Javascript Library.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Redux + iron-redux + pont + kiwi")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("è™šæ‹ŸDOM")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[e("code",[this._v("virtual dom")]),this._v(" å®é™…ä¸Šæ˜¯å¯¹å®é™…Domçš„ä¸€ä¸ªæŠ½è±¡ï¼Œæ˜¯ä¸€ä¸ª js å¯¹è±¡ï¼Œä»è€Œè§£å†³æµè§ˆå™¨æ“ä½œçœŸå®DOMçš„æ€§èƒ½é—®é¢˜ã€‚reactæ‰€æœ‰çš„è¡¨å±‚æ“ä½œå®é™…ä¸Šæ˜¯åœ¨æ“ä½œ"),e("code",[this._v("Virtual dom")]),this._v("ã€‚")]),e("p",[this._v("æ¶‰åŠåˆ°äº†ä¸¤ä¸ªæ ¸å¿ƒè¦ç´ ï¼šè™šæ‹ŸDOMã€æœ€å°é‡æ›´æ–°ã€‚")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("æœ€å°æ›´æ–°é‡")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("Diffçš„ç”¨é€”å°±æ˜¯åœ¨æ–°è€è™šæ‹ŸDOMä¹‹é—´æ‰¾åˆ°æœ€å°æ›´æ–°çš„éƒ¨åˆ†ï¼Œä»è€Œå°†è¯¥éƒ¨åˆ†å¯¹åº”çš„DOMè¿›è¡Œæ›´æ–°ã€‚")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("Diffç®—æ³•æ•´ä¸ªæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1186ba2ede5b44bfa728d6fa5b9b7133~tplv-k3u1fbpfcp-watermark.image",alt:"Diffç®—æ³•3.jpg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("ä¸€ã€ é¦–å…ˆæ¯”è¾ƒä¸€ä¸‹æ–°æ—§èŠ‚ç‚¹æ˜¯ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå¯é€šè¿‡æ¯”è¾ƒselï¼ˆé€‰æ‹©å™¨ï¼‰å’Œkeyï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰å€¼æ˜¯ä¸æ˜¯ç›¸åŒï¼‰ï¼Œä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹åˆ™è¿›è¡Œæš´åŠ›åˆ é™¤ï¼ˆæ³¨ï¼šå…ˆä»¥æ—§èŠ‚ç‚¹ä¸ºåŸºå‡†æ’å…¥æ–°èŠ‚ç‚¹ï¼Œç„¶åå†åˆ é™¤æ—§èŠ‚ç‚¹ï¼‰ã€‚")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("äºŒã€ è‹¥æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹åˆ™éœ€è¦è¿›ä¸€æ­¥æ¯”è¾ƒ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("å®Œå…¨ç›¸åŒï¼Œä¸åšå¤„ç†")]),e("li",[this._v("æ–°èŠ‚ç‚¹å†…å®¹ä¸ºæ–‡æœ¬ï¼Œç›´æ¥æ›¿æ¢å®Œäº‹")]),e("li",[this._v("æ–°èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ä»”ç»†è€ƒè™‘ä¸€ä¸‹äº†:è‹¥è€èŠ‚ç‚¹æ²¡æœ‰å­å…ƒç´ ï¼Œåˆ™ç›´æ¥æ¸…ç©ºè€èŠ‚ç‚¹ï¼Œå°†æ–°èŠ‚ç‚¹çš„å­å…ƒç´ æ’å…¥å³å¯ï¼›è‹¥è€èŠ‚ç‚¹æœ‰å­å…ƒç´ åˆ™å°±éœ€è¦æŒ‰ç…§ä¸Šè¿°çš„æ›´æ–°ç­–ç•¥è€æå®šäº†")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("Diffç®—æ³•çš„å…¥å£å‡½æ•°ï¼Œä¸»è¦åˆ¤æ–­æ–°æ—§èŠ‚ç‚¹æ˜¯ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åäº¤ç”±ä¸åŒçš„é€»è¾‘è¿›è¡Œå¤„ç†ã€‚")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("export default function patch(oldVnode, newVnode) {\n    // åˆ¤æ–­ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯DOMèŠ‚ç‚¹è¿˜æ˜¯è™šæ‹ŸèŠ‚ç‚¹\n    if (oldVnode.sel === '' || oldVnode.sel === undefined) {\n        // ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯DOMèŠ‚ç‚¹ï¼Œæ­¤æ—¶è¦åŒ…è£…æˆè™šæ‹ŸèŠ‚ç‚¹\n        oldVnode = vnode(oldVnode.tagName.toLowerCase(), {}, [], undefined, oldVnode);\n    }\n\n    // åˆ¤æ–­oldVnodeå’ŒnewVnodeæ˜¯ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹\n    if (oldVnode.key === newVnode.key && oldVnode.sel === newVnode.sel) {\n        //æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™è¿›è¡Œç²¾ç»†åŒ–æ¯”è¾ƒ\n        patchVnode(oldVnode, newVnode);\n    }\n    else {\n        // ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œæš´åŠ›æ’å…¥æ–°çš„ï¼Œåˆ é™¤æ—§çš„\n        let newVnodeElm = createElement(newVnode);\n\n        // å°†æ–°èŠ‚ç‚¹æ’å…¥åˆ°è€èŠ‚ç‚¹ä¹‹å‰\n        if (oldVnode.elm.parentNode && newVnodeElm) {\n            oldVnode.elm.parentNode.insertBefore(newVnodeElm, oldVnode.elm);\n        }\n        // åˆ é™¤è€èŠ‚ç‚¹\n        oldVnode.elm.parentNode.removeChild(oldVnode.elm);\n    }\n}\nå¤åˆ¶ä»£ç \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("è¯¥å‡½æ•°ä¸»è¦è´Ÿè´£ç²¾ç»†åŒ–æ¯”è¾ƒï¼Œé€šè¿‡æŒ‰ç…§ä¸Šè¿°æµç¨‹å›¾ä¸­çš„é€»è¾‘ä¾æ¬¡åˆ¤æ–­å±äºå“ªä¸€ä¸ªåˆ†æ”¯ï¼Œä»è€Œé‡‡å–ä¸åŒçš„å¤„ç†é€»è¾‘ã€‚ï¼ˆæ€è·¯æ¸…æ™°ï¼Œç®—æ³•å¤ªç‰›äº†ï¼‰")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("export default function patchVnode(oldVnode, newVnode) {\n    // åˆ¤æ–­æ–°æ—§vnodeæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡\n    if (oldVnode === newVnode) {\n        return;\n    }\n    // åˆ¤æ–­vnodeæœ‰æ²¡æœ‰textå±æ€§\n    if (newVnode.text !== undefined && (newVnode.children === undefined || newVnode.children.length === 0)) {\n        console.log('æ–°vnodeæœ‰textå±æ€§');\n        if (newVnode.text !== oldVnode.text) {\n            oldVnode.elm.innerText = newVnode.text;\n        }\n    }\n    else {\n        // æ–°vnodeæ²¡æœ‰textå±æ€§ï¼Œæœ‰children\n        console.log('æ–°vnodeæ²¡æœ‰textå±æ€§');\n        // åˆ¤æ–­è€çš„æœ‰æ²¡æœ‰children\n        if (oldVnode.children !== undefined && oldVnode.children.length > 0) {\n            // è€çš„æœ‰childrenï¼Œæ–°çš„ä¹Ÿæœ‰children\n            updateChildren(oldVnode.elm, oldVnode.children, newVnode.children);\n        }\n        else {\n            // è€çš„æ²¡æœ‰childrenï¼Œæ–°çš„æœ‰children\n            // æ¸…ç©ºè€çš„èŠ‚ç‚¹çš„å†…å®¹\n            oldVnode.elm.innerHTML = '';\n            // éå†æ–°çš„vnodeçš„å­èŠ‚ç‚¹ï¼Œåˆ›å»ºDOMï¼Œä¸Šæ ‘\n            for (let i = 0; i < newVnode.children.length; i++) {\n                let dom = createElement(newVnode.children[i]);\n                oldVnode.elm.appendChild(dom);\n            }\n        }\n    }\n}\nå¤åˆ¶ä»£ç \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("æ ¸å¿ƒå‡½æ•°ï¼Œä¸»è¦è´Ÿè´£æ—§è™šæ‹ŸèŠ‚ç‚¹å’Œæ–°è™šæ‹ŸèŠ‚ç‚¹å‡å­˜åœ¨å­å…ƒç´ çš„æƒ…å†µï¼ŒæŒ‰ç…§æ¯”è¾ƒç­–ç•¥ä¾æ¬¡è¿›è¡Œæ¯”è¾ƒï¼Œæœ€ç»ˆæ‰¾å‡ºå­å…ƒç´ ä¸­å˜åŒ–çš„éƒ¨åˆ†ï¼Œå®ç°æœ€å°æ›´æ–°ã€‚å¯¹äºè¯¥éƒ¨åˆ†ï¼Œæ¶‰åŠåˆ°ä¸€äº›æŒ‡é’ˆï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69699849ff164f5a94ab45ffcfdf33b6~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("æ—§å‰æŒ‡çš„å°±æ˜¯æ›´æ–°å‰è™šæ‹ŸDOMä¸­çš„å¤´éƒ¨æŒ‡é’ˆ")]),e("li",[this._v("æ—§åæŒ‡çš„å°±æ˜¯æ›´æ–°å‰è™šæ‹ŸDOMä¸­çš„å°¾éƒ¨æŒ‡é’ˆ")]),e("li",[this._v("æ–°å‰æŒ‡çš„å°±æ˜¯æ›´æ–°åè™šæ‹ŸDOMä¸­çš„å¤´éƒ¨æŒ‡é’ˆ")]),e("li",[this._v("æ–°åæŒ‡çš„å°±æ˜¯æ›´æ–°åè™šæ‹ŸDOMä¸­çš„å°¾éƒ¨æŒ‡é’ˆ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("æŒ‰ç…§ä¸Šè¿°çš„æ›´æ–°ç­–ç•¥ï¼Œä¸Šè¿°æ—§è™šæ‹ŸDOMæ›´æ–°ä¸ºæ–°è™šæ‹ŸDOMçš„æµç¨‹ä¸ºï¼š")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("å‘½ä¸­â€œæ–°åæ—§å‰â€ç­–ç•¥ï¼Œç„¶åå°†ä¿¡åå¯¹åº”çš„DOMèŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹1ï¼‰ç§»åŠ¨åˆ°æ—§åèŠ‚ç‚¹ï¼ˆèŠ‚ç‚¹3ï¼‰åé¢ï¼Œç„¶åæ—§å‰èŠ‚ç‚¹æŒ‡é’ˆä¸‹ç§»ï¼Œæ–°åèŠ‚ç‚¹æŒ‡é’ˆä¸Šç§»ã€‚")]),e("li",[this._v("ä»ç„¶å‘½ä¸­â€œæ–°åæ—§å‰â€ç­–ç•¥ï¼Œåšç›¸åŒçš„æ“ä½œï¼Œå°†èŠ‚ç‚¹2ç§»åŠ¨åˆ°æ—§åèŠ‚ç‚¹ï¼ˆèŠ‚ç‚¹3ï¼‰åé¢ï¼Œä¸‹ç§»æ—§å‰èŠ‚ç‚¹ï¼Œä¸Šç§»æ–°åèŠ‚ç‚¹ã€‚")]),e("li",[this._v("å‘½ä¸­â€œæ–°å‰æ—§å‰â€ç­–ç•¥ï¼ŒDOMèŠ‚ç‚¹ä¸å˜ï¼Œæ—§å‰å’Œæ–°å‰èŠ‚ç‚¹å‡ä¸‹ç§»ã€‚")]),e("li",[this._v("è·³å‡ºå¾ªç¯ï¼Œç§»åŠ¨ç»“æŸã€‚")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("export default function updateChildren(parentElm, oldCh, newCh) {\n    // æ—§å‰\n    let oldStartIdx = 0;\n    // æ–°å‰\n    let newStartIdx = 0;\n    // æ—§å\n    let oldEndIdx = oldCh.length - 1;\n    // æ–°å\n    let newEndIdx = newCh.length - 1;\n    // æ—§å‰èŠ‚ç‚¹\n    let oldStartVnode = oldCh[0];\n    // æ—§åèŠ‚ç‚¹\n    let oldEndVnode = oldCh[oldEndIdx];\n    // æ–°å‰èŠ‚ç‚¹\n    let newStartVnode = newCh[0];\n    // æ–°åèŠ‚ç‚¹\n    let newEndVnode = newCh[newEndIdx];\n\n    let keyMap = null;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        // ç•¥è¿‡å·²ç»åŠ undefinedæ ‡è®°çš„å†…å®¹\n        if (oldStartVnode == null || oldCh[oldStartIdx] === undefined) {\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null || oldCh[oldEndIdx] === undefined) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null || newCh[newStartIdx] === undefined) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null || newCh[newEndIdx] === undefined) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (checkSameVnode(oldStartVnode, newStartVnode)) {\n            // æ–°å‰ä¸æ—§å‰\n            console.log('æ–°å‰ä¸æ—§å‰å‘½ä¸­');\n            patchVnode(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (checkSameVnode(oldEndVnode, newEndVnode)) {\n            // æ–°åå’Œæ—§å\n            console.log('æ–°åå’Œæ—§åå‘½ä¸­');\n            patchVnode(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndVnode];\n        }\n        else if (checkSameVnode(oldStartVnode, newEndVnode)) {\n            console.log('æ–°åå’Œæ—§å‰å‘½ä¸­');\n            patchVnode(oldStartVnode, newEndVnode);\n            // å½“æ–°åä¸æ—§å‰å‘½ä¸­çš„æ—¶å€™ï¼Œæ­¤æ—¶è¦ç§»åŠ¨èŠ‚ç‚¹ï¼Œç§»åŠ¨æ–°åæŒ‡å‘çš„è¿™ä¸ªèŠ‚ç‚¹åˆ°è€èŠ‚ç‚¹æ—§åçš„åé¢\n            parentElm.insertBefore(oldStartVnode.elm, oldEndVnode.elm.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (checkSameVnode(oldEndVnode, newStartVnode)) {\n            // æ–°å‰å’Œæ—§å\n            console.log('æ–°å‰å’Œæ—§åå‘½ä¸­');\n            patchVnode(oldEndVnode, newStartVnode);\n            // å½“æ–°å‰å’Œæ—§åå‘½ä¸­çš„æ—¶å€™ï¼Œæ­¤æ—¶è¦ç§»åŠ¨èŠ‚ç‚¹ï¼Œç§»åŠ¨æ–°å‰æŒ‡å‘çš„è¿™ä¸ªèŠ‚ç‚¹åˆ°è€èŠ‚ç‚¹æ—§å‰çš„å‰é¢\n            parentElm.insertBefore(oldEndVnode.elm, oldStartVnode.elm);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            // å››ç§éƒ½æ²¡æœ‰å‘½ä¸­\n            // åˆ¶ä½œkeyMapä¸€ä¸ªæ˜ å°„å¯¹è±¡ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½éå†è€å¯¹è±¡äº†\n            if (!keyMap) {\n                keyMap = {};\n                for (let i = oldStartIdx; i <= oldEndIdx; i++) {\n                    const key = oldCh[i].key;\n                    if (key !== undefined) {\n                        keyMap[key] = i;\n                    }\n                }\n            }\n            // å¯»æ‰¾å½“å‰è¿™é¡¹ï¼ˆnewStartIdxï¼‰åœ¨keyMapä¸­çš„æ˜ å°„çš„ä½ç½®åºå·\n            const idxInOld = keyMap[newStartVnode.key];\n            if (idxInOld === undefined) {\n                // å¦‚æœidxInOldæ˜¯undefinedè¡¨ç¤ºè¸å®å…¨æ–°çš„é¡¹ï¼Œæ­¤æ—¶ä¼šå°†è¯¥é¡¹åˆ›å»ºä¸ºDOMèŠ‚ç‚¹å¹¶æ’å…¥åˆ°æ—§å‰ä¹‹å‰\n                parentElm.insertBefore(createElement(newStartVnode), oldStartVnode.elm);\n            }\n            else {\n                // å¦‚æœä¸æ˜¯undefinedï¼Œåˆ™ä¸æ˜¯å…¨æ–°çš„é¡¹ï¼Œåˆ™éœ€è¦ç§»åŠ¨\n                const elmToMove = oldCh[idxInOld];\n                patchVnode(elmToMove, newStartVnode);\n                // æŠŠè¿™é¡¹è®¾ç½®ä¸ºundefinedï¼Œè¡¨ç¤ºå·²ç»å¤„ç†å®Œè¿™é¡¹äº†\n                oldCh[idxInOld] = undefined;\n                // ç§»åŠ¨\n                parentElm.insertBefore(elmToMove.elm, oldStartVnode.elm);\n            }\n            // æŒ‡é’ˆä¸‹ç§»ï¼Œåªç§»åŠ¨æ–°çš„å¤´\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n\n    // å¾ªç¯ç»“æŸåï¼Œå¤„ç†æœªå¤„ç†çš„é¡¹\n    if (newStartIdx <= newEndIdx) {\n        console.log('newè¿˜æœ‰å‰©ä½™èŠ‚ç‚¹æ²¡æœ‰å¤„ç†ï¼Œè¦åŠ é¡¹ï¼ŒæŠŠæ‰€æœ‰å‰©ä½™çš„èŠ‚ç‚¹æ’å…¥åˆ°oldStartIdxä¹‹å‰');\n        // éå†æ–°çš„newChï¼Œæ·»åŠ åˆ°è€çš„æ²¡æœ‰å¤„ç†çš„ä¹‹å‰\n        for (let i = newStartIdx; i <= newEndIdx; i++) {\n            // insertBeforeæ–¹æ³•å¯ä»¥è‡ªåŠ¨è¯†åˆ«nullï¼Œå¦‚æœæ˜¯nullå°±ä¼šè‡ªåŠ¨æ’åˆ°é˜Ÿå°¾å»\n            // newCh[i]ç°åœ¨è¿˜æ²¡æœ‰çœŸæ­£çš„DOMï¼Œæ‰€ä»¥è¦è°ƒç”¨createElementå‡½æ•°å˜ä¸ºDOM\n            parentElm.insertBefore(createElement(newCh[i]), oldCh[oldStartIdx].elm);\n        }\n    }\n    else if (oldStartIdx <= oldEndIdx) {\n        console.log('oldè¿˜æœ‰å‰©ä½™èŠ‚ç‚¹æ²¡æœ‰å¤„ç†ï¼Œè¦åˆ é™¤é¡¹');\n        // æ‰¹é‡åˆ é™¤oldStartå’ŒoldEndæŒ‡é’ˆä¹‹é—´çš„é¡¹\n        for (let i = oldStartIdx; i <= oldEndIdx; i++) {\n            if (oldCh[i]) {\n                parentElm.removeChild(oldCh[i].elm);\n            }\n        }\n    }\n}\n")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ol",[n("li",[n("code",[t._v("axios")]),t._v("("),n("code",[t._v("http")]),t._v("è¯·æ±‚æ¨¡å—)")]),n("li",[n("code",[t._v("echarts-for-react")]),t._v("(å¯è§†åŒ–å›¾è¡¨)")]),n("li",[n("code",[t._v("recharts")]),t._v("(åŸºäºreactå°è£…çš„å›¾è¡¨)")]),n("li",[n("code",[t._v("nprogress")]),t._v("(é¡¶éƒ¨åŠ è½½æ¡)")]),n("li",[n("code",[t._v("react-draft-wysiwyg(")]),t._v("åˆ«äººåŸºäºreactçš„å¯Œæ–‡æœ¬å°è£…)")]),n("li",[n("code",[t._v("react-draggable")]),t._v("(æ‹–æ‹½æ¨¡å—)")]),n("li",[n("code",[t._v("screenfull")]),t._v("(å…¨å±æ’ä»¶)")]),n("li",[n("code",[t._v("photoswipe")]),t._v("(å›¾ç‰‡å¼¹å±‚æŸ¥çœ‹æ’ä»¶)")]),n("li",[n("code",[t._v("animate.css")])]),n("li",[n("code",[t._v("redux Web")]),t._v(" (åº”ç”¨æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œè§†å›¾ä¸çŠ¶æ€æ˜¯ä¸€ä¸€å¯¹åº”çš„.æ‰€æœ‰çš„çŠ¶æ€ï¼Œä¿å­˜åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢)")]),n("li",[n("code",[t._v("redux-logger")]),t._v(" æ—¥å¿—")]),n("li",[n("code",[t._v("Reselect")]),t._v(" è®°å¿†ç»„ä»¶")]),n("li",[n("code",[t._v("redux-thunk")]),t._v("(è§£å†³å¼‚æ­¥actionçš„é—®é¢˜)")]),n("li",[n("code",[t._v("redux-saga")]),t._v(" (è§£å†³å¼‚æ­¥actionçš„é—®é¢˜)")]),n("li",[n("code",[t._v("react-router-redux")]),t._v("(ä¿æŒè·¯ç”±ä¸åº”ç”¨çŠ¶æ€(state)åŒæ­¥)")]),n("li",[n("code",[t._v("react-router-dom")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("è£…è½½é˜¶æ®µï¼ˆMountï¼‰ï¼Œç»„ä»¶ç¬¬ä¸€æ¬¡åœ¨DOMæ ‘ä¸­è¢«æ¸²æŸ“çš„è¿‡ç¨‹ï¼›")]),e("li",[this._v("æ›´æ–°è¿‡ç¨‹ï¼ˆUpdateï¼‰ï¼Œç»„ä»¶çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°æ›´æ–°æ¸²æŸ“çš„è¿‡ç¨‹ï¼›")]),e("li",[this._v("å¸è½½è¿‡ç¨‹ï¼ˆUnmountï¼‰ï¼Œç»„ä»¶ä»DOMæ ‘ä¸­è¢«ç§»é™¤çš„è¿‡ç¨‹ï¼›")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c6acaafdb0af45d78b4428ca25ca4160~tplv-k3u1fbpfcp-zoom-1.image",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("constructor")]),e("li",[this._v("getDerivedStateFromProps")]),e("li",[this._v("render")]),e("li",[this._v("componentDidMount")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("ç»„ä»¶çš„æ„é€ å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªè¢«æ‰§è¡Œï¼Œè‹¥æ²¡æœ‰æ˜¾å¼å®šä¹‰å®ƒï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è‹¥æ˜¾å¼å®šä¹‰äº†æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­æ‰§è¡Œ "),e("code",[this._v("super(props)")]),this._v("ï¼Œå¦åˆ™æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­æ‹¿åˆ°thisã€‚")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("å¦‚æœä¸åˆå§‹åŒ– state æˆ–ä¸è¿›è¡Œæ–¹æ³•ç»‘å®šï¼Œåˆ™ä¸éœ€è¦ä¸º React ç»„ä»¶å®ç°æ„é€ å‡½æ•°"),e("strong",[this._v("Constructor")]),this._v("ã€‚")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("åˆå§‹åŒ–ç»„ä»¶çš„ state")]),e("li",[this._v("ç»™äº‹ä»¶å¤„ç†æ–¹æ³•ç»‘å®š this")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨ setStateï¼Œå¯ä»¥ç›´æ¥ç»™ state è®¾ç½®åˆå§‹å€¼")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" counter"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleClick "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromProps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("è¿™æ˜¯ä¸ªé™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨è¿™ä¸ªå‡½æ•°é‡Œä½¿ç”¨ "),n("code",[t._v("this")]),t._v("ï¼Œæœ‰ä¸¤ä¸ªå‚æ•° "),n("code",[t._v("props")]),t._v(" å’Œ "),n("code",[t._v("state")]),t._v("ï¼Œåˆ†åˆ«æŒ‡æ¥æ”¶åˆ°çš„æ–°å‚æ•°å’Œå½“å‰ç»„ä»¶çš„ "),n("code",[t._v("state")]),t._v(" å¯¹è±¡ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ç”¨æ¥æ›´æ–°å½“å‰çš„ "),n("code",[t._v("state")]),t._v(" å¯¹è±¡ï¼Œå¦‚æœä¸éœ€è¦æ›´æ–°å¿…é¡»è¿”å› "),n("code",[t._v("null")]),t._v("ã€‚")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("è¯¥å‡½æ•°ä¼šåœ¨è£…è½½æ—¶ï¼Œæ¥æ”¶åˆ°æ–°çš„ "),n("code",[t._v("props")]),t._v(" æˆ–è€…è°ƒç”¨äº† "),n("code",[t._v("setState")]),t._v(" å’Œ "),n("code",[t._v("forceUpdate")]),t._v(" æ—¶è¢«è°ƒç”¨ã€‚å¦‚å½“æ¥æ”¶åˆ°æ–°çš„å±æ€§æƒ³ä¿®æ”¹ "),n("code",[t._v("state")]),t._v(" ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€‚")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("renderæ˜¯React ä¸­æœ€æ ¸å¿ƒçš„æ–¹æ³•ï¼Œä¸€ä¸ªç»„ä»¶ä¸­å¿…é¡»è¦æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒä¼šæ ¹æ®çŠ¶æ€ "),e("code",[this._v("state")]),this._v(" å’Œå±æ€§ "),e("code",[this._v("props")]),this._v(" æ¸²æŸ“ç»„ä»¶ã€‚è¿™ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹ï¼Œå°±æ˜¯è¿”å›éœ€è¦æ¸²æŸ“çš„å†…å®¹ï¼Œæ‰€ä»¥ä¸è¦åœ¨è¿™ä¸ªå‡½æ•°å†…åšå…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œé€šå¸¸è°ƒç”¨è¯¥æ–¹æ³•ä¼šè¿”å›ä»¥ä¸‹ç±»å‹ä¸­ä¸€ä¸ªï¼š")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("strong",[t._v("React å…ƒç´ ")]),t._v("ï¼šè¿™é‡ŒåŒ…æ‹¬åŸç”Ÿçš„ DOM ä»¥åŠ React ç»„ä»¶ï¼›")]),n("li",[n("strong",[t._v("æ•°ç»„å’Œ Fragmentï¼ˆç‰‡æ®µï¼‰")]),t._v("ï¼šå¯ä»¥è¿”å›å¤šä¸ªå…ƒç´ ï¼›")]),n("li",[n("strong",[t._v("Portalsï¼ˆæ’æ§½ï¼‰")]),t._v("ï¼šå¯ä»¥å°†å­å…ƒç´ æ¸²æŸ“åˆ°ä¸åŒçš„ DOM å­æ ‘ç§ï¼›")]),n("li",[n("strong",[t._v("å­—ç¬¦ä¸²å’Œæ•°å­—")]),t._v("ï¼šè¢«æ¸²æŸ“æˆ DOM ä¸­çš„ text èŠ‚ç‚¹ï¼›")]),n("li",[n("strong",[t._v("å¸ƒå°”å€¼æˆ– null")]),t._v("ï¼šä¸æ¸²æŸ“ä»»ä½•å†…å®¹ã€‚")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("æ‰§è¡Œä¾èµ–äºDOMçš„æ“ä½œï¼›")]),e("li",[this._v("å‘é€ç½‘ç»œè¯·æ±‚ï¼›ï¼ˆå®˜æ–¹å»ºè®®ï¼‰")]),e("li",[this._v("æ·»åŠ è®¢é˜…æ¶ˆæ¯ï¼ˆä¼šåœ¨componentWillUnmountå–æ¶ˆè®¢é˜…ï¼‰ï¼›")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("å½“ç»„ä»¶çš„ "),e("code",[this._v("props")]),this._v(" æ”¹å˜äº†ï¼Œæˆ–ç»„ä»¶å†…éƒ¨è°ƒç”¨äº† "),e("code",[this._v("setState/forceUpdate")]),this._v("ï¼Œä¼šè§¦å‘æ›´æ–°é‡æ–°æ¸²æŸ“ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šå‘ç”Ÿå¤šæ¬¡ã€‚è¿™ä¸ªé˜¶æ®µä¼šä¾æ¬¡è°ƒç”¨ä¸‹é¢è¿™äº›æ–¹æ³•ï¼š")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("getDerivedStateFromProps")]),e("li",[this._v("shouldComponentUpdate")]),e("li",[this._v("render")]),e("li",[this._v("getSnapshotBeforeUpdate")]),e("li",[this._v("componentDidUpdate")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("shouldComponentUpdate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("(")]),this._v("nextProps"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(",")]),this._v(" nextState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("setState å‡½æ•°åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“å—ï¼Ÿä¾‹å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("number"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("å¦‚æœæ²¡æœ‰è°ƒç”¨ setStateï¼Œprops å€¼ä¹Ÿæ²¡æœ‰å˜åŒ–ï¼Œæ˜¯ä¸æ˜¯ç»„ä»¶å°±ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Ÿ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("ç¬¬ä¸€ä¸ªé—®é¢˜ç­”æ¡ˆæ˜¯ "),e("strong",[this._v("ä¼š")]),this._v(" ï¼Œç¬¬äºŒä¸ªé—®é¢˜å¦‚æœæ˜¯çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œä¸ç®¡ä¼ å…¥çš„ props æœ‰æ²¡æœ‰å˜åŒ–ï¼Œéƒ½ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("é‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•è§£å†³åœ¨è¿™ä¸¤ä¸ªåœºæ™¯ä¸‹ä¸è®©ç»„ä»¶é‡æ–°æ¸²æŸ“è¿›è€Œæå‡æ€§èƒ½å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ "),n("code",[t._v("shouldComponentUpdate")]),t._v(" ç™»åœºäº†ï¼Œè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ç”¨æ¥æå‡é€Ÿåº¦çš„ï¼Œå®ƒæ˜¯åœ¨é‡æ–°æ¸²æŸ“ç»„ä»¶å¼€å§‹å‰è§¦å‘çš„ï¼Œé»˜è®¤è¿”å› "),n("code",[t._v("true")]),t._v("ï¼Œå¯ä»¥æ¯”è¾ƒ "),n("code",[t._v("this.props")]),t._v(" å’Œ "),n("code",[t._v("nextProps")]),t._v(" ï¼Œ"),n("code",[t._v("this.state")]),t._v(" å’Œ "),n("code",[t._v("nextState")]),t._v(" å€¼æ˜¯å¦å˜åŒ–ï¼Œæ¥ç¡®è®¤è¿”å› true æˆ–è€… "),n("code",[t._v("false")]),t._v("ã€‚å½“è¿”å› "),n("code",[t._v("false")]),t._v(" æ—¶ï¼Œç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹åœæ­¢ï¼Œåç»­çš„ "),n("code",[t._v("render")]),t._v("ã€"),n("code",[t._v("componentDidUpdate")]),t._v(" ä¹Ÿä¸ä¼šè¢«è°ƒç”¨ã€‚")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("æ³¨æ„ï¼š")]),this._v(" æ·»åŠ  "),e("code",[this._v("shouldComponentUpdate")]),this._v(" æ–¹æ³•æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨æ·±åº¦ç›¸ç­‰æ£€æŸ¥ï¼ˆå¦‚ä½¿ç”¨ "),e("code",[this._v("JSON.stringify()")]),this._v("ï¼‰ï¼Œå› ä¸ºæ·±æ¯”è¾ƒæ•ˆç‡å¾ˆä½ï¼Œå¯èƒ½ä¼šæ¯”é‡æ–°æ¸²æŸ“ç»„ä»¶æ•ˆç‡è¿˜ä½ã€‚è€Œä¸”è¯¥æ–¹æ³•ç»´æŠ¤æ¯”è¾ƒå›°éš¾ï¼Œå»ºè®®ä½¿ç”¨è¯¥æ–¹æ³•ä¼šäº§ç”Ÿæ˜æ˜¾çš„æ€§èƒ½æå‡æ—¶ä½¿ç”¨ã€‚")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("getSnapshotBeforeUpdate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("(")]),this._v("prevProps"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(",")]),this._v(" prevState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("è¿™ä¸ªæ–¹æ³•åœ¨ "),n("code",[t._v("render")]),t._v(" ä¹‹åï¼Œ"),n("code",[t._v("componentDidUpdate")]),t._v(" ä¹‹å‰è°ƒç”¨ï¼Œæœ‰ä¸¤ä¸ªå‚æ•° "),n("code",[t._v("prevProps")]),t._v(" å’Œ "),n("code",[t._v("prevState")]),t._v("ï¼Œè¡¨ç¤ºæ›´æ–°ä¹‹å‰çš„ "),n("code",[t._v("props")]),t._v(" å’Œ "),n("code",[t._v("state")]),t._v("ï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»è¦å’Œ "),n("code",[t._v("componentDidUpdate")]),t._v(" ä¸€èµ·ä½¿ç”¨ï¼Œå¹¶ä¸”è¦æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œé»˜è®¤æ˜¯ "),n("code",[t._v("null")]),t._v("ï¼Œè¿™ä¸ªè¿”å›å€¼ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ ç»™ "),n("code",[t._v("componentDidUpdate")]),t._v("ã€‚")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("å½“ç»„ä»¶æ›´æ–°åï¼Œå¯¹ DOM è¿›è¡Œæ“ä½œï¼›")]),e("li",[this._v("å¦‚æœä½ å¯¹æ›´æ–°å‰åçš„ props è¿›è¡Œäº†æ¯”è¾ƒï¼Œä¹Ÿå¯ä»¥é€‰æ‹©åœ¨æ­¤å¤„è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼›ï¼ˆä¾‹å¦‚ï¼Œå½“ props æœªå‘ç”Ÿå˜åŒ–æ—¶ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œç½‘ç»œè¯·æ±‚ï¼‰ã€‚")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" snapshot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nå¤åˆ¶ä»£ç \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("prevProps: æ›´æ–°å‰çš„props")]),e("li",[this._v("prevState: æ›´æ–°å‰çš„state")]),e("li",[this._v("snapshot: getSnapshotBeforeUpdate()ç”Ÿå‘½å‘¨æœŸçš„è¿”å›å€¼")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("æ¸…é™¤ timerï¼Œå–æ¶ˆç½‘ç»œè¯·æ±‚æˆ–æ¸…é™¤")]),e("li",[this._v("å–æ¶ˆåœ¨ componentDidMount() ä¸­åˆ›å»ºçš„è®¢é˜…ç­‰ï¼›")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("è¿™ä¸ªç”Ÿå‘½å‘¨æœŸåœ¨ä¸€ä¸ªç»„ä»¶è¢«å¸è½½å’Œé”€æ¯ä¹‹å‰è¢«è°ƒç”¨ï¼Œå› æ­¤ä½ ä¸åº”è¯¥å†è¿™ä¸ªæ–¹æ³•ä¸­ä½¿ç”¨ "),e("code",[this._v("setState")]),this._v("ï¼Œå› ä¸ºç»„ä»¶ä¸€æ—¦è¢«å¸è½½ï¼Œå°±ä¸ä¼šå†è£…è½½ï¼Œä¹Ÿå°±ä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("errorï¼šæŠ›å‡ºçš„é”™è¯¯ã€‚")]),e("li",[this._v("infoï¼šå¸¦æœ‰ componentStack key çš„å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³ç»„ä»¶å¼•å‘é”™è¯¯çš„æ ˆä¿¡æ¯")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Reactå¸¸è§çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š "),e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac5371efce0b4adca97e2573e1e18282~tplv-k3u1fbpfcp-zoom-1.image",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Reactå¸¸è§ç”Ÿå‘½å‘¨æœŸçš„è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("æŒ‚è½½é˜¶æ®µï¼Œé¦–å…ˆæ‰§è¡Œconstructoræ„é€ æ–¹æ³•ï¼Œæ¥åˆ›å»ºç»„ä»¶")]),n("li",[t._v("åˆ›å»ºå®Œæˆä¹‹åï¼Œå°±ä¼šæ‰§è¡Œrenderæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›éœ€è¦æ¸²æŸ“çš„å†…å®¹")]),n("li",[t._v("éšåï¼ŒReactä¼šå°†éœ€è¦æ¸²æŸ“çš„å†…å®¹æŒ‚è½½åˆ°DOMæ ‘ä¸Š")]),n("li",[n("strong",[t._v("æŒ‚è½½å®Œæˆä¹‹åå°±ä¼šæ‰§è¡ŒcomponentDidMountç”Ÿå‘½å‘¨æœŸå‡½æ•°")])]),n("li",[t._v("å¦‚æœæˆ‘ä»¬ç»™ç»„ä»¶åˆ›å»ºä¸€ä¸ªpropsï¼ˆç”¨äºç»„ä»¶é€šä¿¡ï¼‰ã€è°ƒç”¨setStateï¼ˆæ›´æ”¹stateä¸­çš„æ•°æ®ï¼‰ã€è°ƒç”¨forceUpdateï¼ˆå¼ºåˆ¶æ›´æ–°ç»„ä»¶ï¼‰æ—¶ï¼Œéƒ½ä¼šé‡æ–°è°ƒç”¨renderå‡½æ•°")]),n("li",[t._v("renderå‡½æ•°é‡æ–°æ‰§è¡Œä¹‹åï¼Œå°±ä¼šé‡æ–°è¿›è¡ŒDOMæ ‘çš„æŒ‚è½½")]),n("li",[n("strong",[t._v("æŒ‚è½½å®Œæˆä¹‹åå°±ä¼šæ‰§è¡ŒcomponentDidUpdateç”Ÿå‘½å‘¨æœŸå‡½æ•°")])]),n("li",[n("strong",[t._v("å½“ç§»é™¤ç»„ä»¶æ—¶ï¼Œå°±ä¼šæ‰§è¡ŒcomponentWillUnmountç”Ÿå‘½å‘¨æœŸå‡½æ•°")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("1) componentWillMount")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("2) componentWillReceiveProps")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("getDSFPæ˜¯é™æ€æ–¹æ³•ï¼Œåœ¨è¿™é‡Œä¸èƒ½ä½¿ç”¨thisï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œå¼€å‘è€…ä¸èƒ½å†™å‡ºå‰¯ä½œç”¨çš„ä»£ç ")]),e("li",[this._v("å¼€å‘è€…åªèƒ½é€šè¿‡prevStateè€Œä¸æ˜¯prevPropsæ¥åšå¯¹æ¯”ï¼Œä¿è¯äº†stateå’Œpropsä¹‹é—´çš„ç®€å•å…³ç³»ä»¥åŠä¸éœ€è¦å¤„ç†ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶prevPropsä¸ºç©ºçš„æƒ…å†µ")]),e("li",[this._v("åŸºäºç¬¬ä¸€ç‚¹ï¼Œå°†çŠ¶æ€å˜åŒ–ï¼ˆsetStateï¼‰å’Œæ˜‚è´µæ“ä½œï¼ˆtabChangeï¼‰åŒºåˆ†å¼€ï¼Œæ›´åŠ ä¾¿äº render å’Œ commit é˜¶æ®µæ“ä½œæˆ–è€…è¯´ä¼˜åŒ–ã€‚")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("3) componentWillUpdate")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("4) getSnapshotBeforeUpdate(prevProps, prevState)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScrollingList")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listRef "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRef")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSnapshotBeforeUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬æ˜¯å¦åœ¨ list ä¸­æ·»åŠ æ–°çš„ items ï¼Ÿ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•è·æ»šåŠ¨ä½ç½®ä»¥ä¾¿æˆ‘ä»¬ç¨åè°ƒæ•´æ»šåŠ¨ä½ç½®ã€‚")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" list "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listRef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" snapshot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæˆ‘ä»¬ snapshot æœ‰å€¼ï¼Œè¯´æ˜æˆ‘ä»¬åˆšåˆšæ·»åŠ äº†æ–°çš„ itemsï¼Œ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒæ•´æ»šåŠ¨ä½ç½®ä½¿å¾—è¿™äº›æ–° items ä¸ä¼šå°†æ—§çš„ items æ¨å‡ºè§†å›¾ã€‚")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ï¼ˆè¿™é‡Œçš„ snapshot æ˜¯ getSnapshotBeforeUpdate çš„è¿”å›å€¼ï¼‰")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("snapshot "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" list "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listRef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" snapshot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div ref"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listRef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ...contents... */")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[e("strong",[this._v("çˆ¶ä¼ å­")])]),e("p",[this._v("Reactæ•°æ®æµåŠ¨æ˜¯å•å‘çš„;çˆ¶ç»„ä»¶é€šè¿‡propså‘å­ç»„ä»¶ä¼ é€’éœ€è¦çš„ä¿¡æ¯")])]),e("li",[e("p",[e("strong",[this._v("å­ä¼ çˆ¶")])]),e("ul",[e("li",[this._v("åˆ©ç”¨å›è°ƒå‡½æ•°")]),e("li",[this._v("åˆ©ç”¨è‡ªå®šä¹‰äº‹ä»¶æœºåˆ¶")])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("// ä¸€èˆ¬æ”¹å˜stateå€¼çš„ä¸€ç§æ–¹å¼\nconst { data } = this.state;\nthis.setState({ data: {...data, key: 1 } });\n// å¦å¤–ä¸€ç§å¯ä»¥é€šè¿‡callbackçš„æ–¹å¼æ”¹å˜stateçš„å€¼\nthis.setState(({ data }) => ({ data: {...data, key: 1 } }));\n// è¿˜å¯ä»¥\nthis.setState((state, props) => {\nreturn { counter: state.counter + props.step };\n});\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('run(){\n\talert("ç¬¬ä¸€ç§æ–¹æ³•ï¼")\n}\n\n<button onClick={this.run.bind(this)}>ç¬¬ä¸€ç§</button>\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('constructor(props) {\n    super(props);\n    this.state={\n    //å®šä¹‰æ•°æ®\n    }\n    this.run = this.run.bind(this);\n}\n\nrun(){\n\talert("ç¬¬äºŒç§æ–¹æ³•ï¼")\n}\n\n<button onClick={this.run}>ç¬¬äºŒç§</button>\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('run=()=> {\n\talert("ç¬¬ä¸‰ç§æ–¹æ³•ï¼")\n}\n\n<button onClick={this.run}>ç¬¬ä¸‰ç§</button>\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('run(){\n\talert("ç¬¬å››ç§æ–¹æ³•ï¼")\n}\n\n<button onClick={()=>this.run()>ç¬¬å››ç§</button>\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("const Children = (props: Iprops, ref: React.Ref<unknown>) => {\n  useImperativeHandle(ref, () => ({   // çˆ¶ç»„ä»¶è°ƒç”¨ å­ç»„ä»¶æ–¹æ³•ï¼Œéœ€è¦ useImperativeHandle é‡Œé¢å®šä¹‰\n    childFn: childFn,\n\t}));\n\tconst childFn = ()=>{ }\n  return (\n    <div>child</div>\n  );\n};\n\nexport default forwardRef(Children); // å‡½æ•°ç»„ä»¶ä½¿ç”¨refï¼Œéœ€è¦forwardRefåŒ…è£¹\n\nconst Parent = () => {\n  const childrenRef: React.MutableRefObject<any> = useRef();\n  const handleSubmit = () => {\n    childrenRef?.current?.childFn();\n  };\n  return (\n    <Children ref={childrenRef} />\n  );\n};\n\nexport default Parent;\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("  const CreateOrderParent = (props) => {\n  \tuseImperativeHandle(props.refInstance, () => ({\n      handleSubmit: submit,\n    }));\n    const submit = () => {\n      const values = formRef?.current?.submit();\n      if (values) {\n        return values;\n      } else {\n        return false;\n      }\n    };\n  }\n  \n  const ConnentCreateOrderParent = connect(({ usersandparent, user }) => {\n    return {\n      user: user.currentUser,\n    };\n  })(CreateOrderParent);\n  export default forwardRef((props, ref) => (\n    <ConnentCreateOrderParent {...props} refInstance={ref} />\n  ));\n\n  \n  const parentRefs = [];\n  const setParentRef = (ref) => {\n    parentRefs.push(ref);\n  };\n   \n   {parentList.map((item, index) => {\n   \t\treturn <CreateOrderParent ref={setParentRef} />;\n   })}\n")])])])}],!1,null,null,null);e.default=a.exports}}]);