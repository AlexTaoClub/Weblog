<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端工程规范 | AlexTao 的 博客</title>
    <meta name="description" content="In doing we learn.">
    <link rel="icon" href="favicon.ico">
    
    <link rel="preload" href="/Weblog/assets/css/styles.bc17a3fe.css" as="style"><link rel="preload" href="/Weblog/assets/js/app.bc17a3fe.js" as="script"><link rel="preload" href="/Weblog/assets/js/99.0ff7167d.js" as="script"><link rel="prefetch" href="/Weblog/assets/css/16.styles.2339a627.css"><link rel="prefetch" href="/Weblog/assets/css/5.styles.c1152841.css"><link rel="prefetch" href="/Weblog/assets/css/7.styles.1f4a6057.css"><link rel="prefetch" href="/Weblog/assets/css/8.styles.5b6e1357.css"><link rel="prefetch" href="/Weblog/assets/js/0.a8dcd889.js"><link rel="prefetch" href="/Weblog/assets/js/10.bbae2931.js"><link rel="prefetch" href="/Weblog/assets/js/100.b8573d34.js"><link rel="prefetch" href="/Weblog/assets/js/101.abec8cfc.js"><link rel="prefetch" href="/Weblog/assets/js/102.79aa7798.js"><link rel="prefetch" href="/Weblog/assets/js/11.249c3d32.js"><link rel="prefetch" href="/Weblog/assets/js/12.6c4f9a9d.js"><link rel="prefetch" href="/Weblog/assets/js/13.9c3a7225.js"><link rel="prefetch" href="/Weblog/assets/js/14.8788763f.js"><link rel="prefetch" href="/Weblog/assets/js/15.c3d91b4b.js"><link rel="prefetch" href="/Weblog/assets/js/16.2339a627.js"><link rel="prefetch" href="/Weblog/assets/js/17.f68b5694.js"><link rel="prefetch" href="/Weblog/assets/js/18.1dc877c8.js"><link rel="prefetch" href="/Weblog/assets/js/19.8d3a8eb9.js"><link rel="prefetch" href="/Weblog/assets/js/2.adb0855b.js"><link rel="prefetch" href="/Weblog/assets/js/20.5b430c8f.js"><link rel="prefetch" href="/Weblog/assets/js/21.7570ba60.js"><link rel="prefetch" href="/Weblog/assets/js/22.c34e9396.js"><link rel="prefetch" href="/Weblog/assets/js/23.d89c70ce.js"><link rel="prefetch" href="/Weblog/assets/js/24.cc87bb5d.js"><link rel="prefetch" href="/Weblog/assets/js/25.024b7a56.js"><link rel="prefetch" href="/Weblog/assets/js/26.0d0e2118.js"><link rel="prefetch" href="/Weblog/assets/js/27.fd65c2c2.js"><link rel="prefetch" href="/Weblog/assets/js/28.e7e81b37.js"><link rel="prefetch" href="/Weblog/assets/js/29.d69a29c6.js"><link rel="prefetch" href="/Weblog/assets/js/3.9c9ae281.js"><link rel="prefetch" href="/Weblog/assets/js/30.e02a9f2a.js"><link rel="prefetch" href="/Weblog/assets/js/31.4d5d63f6.js"><link rel="prefetch" href="/Weblog/assets/js/32.2652c4b5.js"><link rel="prefetch" href="/Weblog/assets/js/33.f81118fb.js"><link rel="prefetch" href="/Weblog/assets/js/34.6539d2a9.js"><link rel="prefetch" href="/Weblog/assets/js/35.479b4b73.js"><link rel="prefetch" href="/Weblog/assets/js/36.24e9784f.js"><link rel="prefetch" href="/Weblog/assets/js/37.13a7e720.js"><link rel="prefetch" href="/Weblog/assets/js/38.57e7625b.js"><link rel="prefetch" href="/Weblog/assets/js/39.40ddc61b.js"><link rel="prefetch" href="/Weblog/assets/js/4.cb1adf5e.js"><link rel="prefetch" href="/Weblog/assets/js/40.4abade23.js"><link rel="prefetch" href="/Weblog/assets/js/41.03a22716.js"><link rel="prefetch" href="/Weblog/assets/js/42.4bf6acac.js"><link rel="prefetch" href="/Weblog/assets/js/43.7d75114c.js"><link rel="prefetch" href="/Weblog/assets/js/44.a74a0979.js"><link rel="prefetch" href="/Weblog/assets/js/45.224f0ae1.js"><link rel="prefetch" href="/Weblog/assets/js/46.716c0ee0.js"><link rel="prefetch" href="/Weblog/assets/js/47.a44c77ff.js"><link rel="prefetch" href="/Weblog/assets/js/48.c92bc6c3.js"><link rel="prefetch" href="/Weblog/assets/js/49.78d85a96.js"><link rel="prefetch" href="/Weblog/assets/js/5.c1152841.js"><link rel="prefetch" href="/Weblog/assets/js/50.65d4cc82.js"><link rel="prefetch" href="/Weblog/assets/js/51.dfe21a00.js"><link rel="prefetch" href="/Weblog/assets/js/52.a55d1d66.js"><link rel="prefetch" href="/Weblog/assets/js/53.24e5ba30.js"><link rel="prefetch" href="/Weblog/assets/js/54.3d44c9e1.js"><link rel="prefetch" href="/Weblog/assets/js/55.5509d3c1.js"><link rel="prefetch" href="/Weblog/assets/js/56.389f0044.js"><link rel="prefetch" href="/Weblog/assets/js/57.a6410cdf.js"><link rel="prefetch" href="/Weblog/assets/js/58.99de433a.js"><link rel="prefetch" href="/Weblog/assets/js/59.f362327e.js"><link rel="prefetch" href="/Weblog/assets/js/6.829d0e7e.js"><link rel="prefetch" href="/Weblog/assets/js/60.d8a731fd.js"><link rel="prefetch" href="/Weblog/assets/js/61.c32405a4.js"><link rel="prefetch" href="/Weblog/assets/js/62.2cf15697.js"><link rel="prefetch" href="/Weblog/assets/js/63.97976992.js"><link rel="prefetch" href="/Weblog/assets/js/64.df2f0acc.js"><link rel="prefetch" href="/Weblog/assets/js/65.0365fc24.js"><link rel="prefetch" href="/Weblog/assets/js/66.89f67105.js"><link rel="prefetch" href="/Weblog/assets/js/67.4d546178.js"><link rel="prefetch" href="/Weblog/assets/js/68.b3742591.js"><link rel="prefetch" href="/Weblog/assets/js/69.e2c032ec.js"><link rel="prefetch" href="/Weblog/assets/js/7.1f4a6057.js"><link rel="prefetch" href="/Weblog/assets/js/70.f262dfb0.js"><link rel="prefetch" href="/Weblog/assets/js/71.24d5a255.js"><link rel="prefetch" href="/Weblog/assets/js/72.c2fad7bd.js"><link rel="prefetch" href="/Weblog/assets/js/73.e3de86c7.js"><link rel="prefetch" href="/Weblog/assets/js/74.af039d36.js"><link rel="prefetch" href="/Weblog/assets/js/75.b5d26a4d.js"><link rel="prefetch" href="/Weblog/assets/js/76.5253b8d4.js"><link rel="prefetch" href="/Weblog/assets/js/77.13049fae.js"><link rel="prefetch" href="/Weblog/assets/js/78.732e7950.js"><link rel="prefetch" href="/Weblog/assets/js/79.91a95405.js"><link rel="prefetch" href="/Weblog/assets/js/8.5b6e1357.js"><link rel="prefetch" href="/Weblog/assets/js/80.60b08cac.js"><link rel="prefetch" href="/Weblog/assets/js/81.09852d19.js"><link rel="prefetch" href="/Weblog/assets/js/82.49b521d3.js"><link rel="prefetch" href="/Weblog/assets/js/83.681a706a.js"><link rel="prefetch" href="/Weblog/assets/js/84.ca93e702.js"><link rel="prefetch" href="/Weblog/assets/js/85.9813d878.js"><link rel="prefetch" href="/Weblog/assets/js/86.632f014f.js"><link rel="prefetch" href="/Weblog/assets/js/87.7737cd73.js"><link rel="prefetch" href="/Weblog/assets/js/88.1ec9c00d.js"><link rel="prefetch" href="/Weblog/assets/js/89.bbeb975f.js"><link rel="prefetch" href="/Weblog/assets/js/9.c685ce8f.js"><link rel="prefetch" href="/Weblog/assets/js/90.eda536dd.js"><link rel="prefetch" href="/Weblog/assets/js/91.391681fc.js"><link rel="prefetch" href="/Weblog/assets/js/92.dca04870.js"><link rel="prefetch" href="/Weblog/assets/js/93.01d44a2a.js"><link rel="prefetch" href="/Weblog/assets/js/94.f941a99a.js"><link rel="prefetch" href="/Weblog/assets/js/95.232bf755.js"><link rel="prefetch" href="/Weblog/assets/js/96.d381c6e0.js"><link rel="prefetch" href="/Weblog/assets/js/97.2a0ba8ba.js"><link rel="prefetch" href="/Weblog/assets/js/98.001e708c.js">
    <link rel="stylesheet" href="/Weblog/assets/css/styles.bc17a3fe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/Weblog/" class="home-link router-link-active"><!----><span class="site-name">
      AlexTao 的 博客
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/Weblog/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Classify</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/Weblog/html_css/" class="nav-link">HTML/CSS</a></li><li class="dropdown-item"><!----><a href="/Weblog/javascript/" class="nav-link">Javascript</a></li><li class="dropdown-item"><!----><a href="/Weblog/node/" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----><a href="/Weblog/frames/" class="nav-link">Frames</a></li><li class="dropdown-item"><!----><a href="/Weblog/tool/" class="nav-link router-link-active">Tool</a></li><li class="dropdown-item"><!----><a href="/Weblog/currency/" class="nav-link">Currency</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/AlexTaoClub" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Weblog/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Classify</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/Weblog/html_css/" class="nav-link">HTML/CSS</a></li><li class="dropdown-item"><!----><a href="/Weblog/javascript/" class="nav-link">Javascript</a></li><li class="dropdown-item"><!----><a href="/Weblog/node/" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----><a href="/Weblog/frames/" class="nav-link">Frames</a></li><li class="dropdown-item"><!----><a href="/Weblog/tool/" class="nav-link router-link-active">Tool</a></li><li class="dropdown-item"><!----><a href="/Weblog/currency/" class="nav-link">Currency</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/AlexTaoClub" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Tool</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/Weblog/tool/" aria-current="page" class="sidebar-link">git</a></li><li><a href="/Weblog/tool/前端开发规范.html" class="sidebar-link">前端开发规范</a></li><li><a href="/Weblog/tool/前端工程规范.html" class="active sidebar-link">前端工程规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#目的" class="sidebar-link">目的</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#vscode-必备插件" class="sidebar-link">vscode 必备插件</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#package-json" class="sidebar-link">package.json</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#gitignore" class="sidebar-link">.gitignore</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#npmrc" class="sidebar-link">.npmrc</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#readme-md" class="sidebar-link">README.md</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#editorconfig" class="sidebar-link">EditorConfig</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#prettier" class="sidebar-link">Prettier</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#eslint" class="sidebar-link">ESLint</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#eslintignore-和-prettierignore" class="sidebar-link">.eslintignore 和 .prettierignore</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#stylelint" class="sidebar-link">StyleLint</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#解决-stylelint-和-prettier-的冲突" class="sidebar-link">解决 Stylelint 和 Prettier 的冲突</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#lint-命令" class="sidebar-link">lint 命令</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#lint-staged" class="sidebar-link">lint-staged</a></li><li class="sidebar-sub-header"><a href="/Weblog/tool/前端工程规范.html#commitlint-changelog" class="sidebar-link">commitlint + changelog</a></li></ul></li><li><a href="/Weblog/tool/前端技术方案模板.html" class="sidebar-link">前端技术设计文档模板</a></li><li><a href="/Weblog/tool/win指令.html" class="sidebar-link">Windows 常用新建文件指令</a></li><li><a href="/Weblog/tool/MAC中设置和查看环境变量.html" class="sidebar-link">MAC中设置和查看环境变量</a></li><li><a href="/Weblog/tool/npm命令.html" class="sidebar-link">npm常用命令及包</a></li><li><a href="/Weblog/tool/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/Weblog/tool/Nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/Weblog/tool/echarts配置.html" class="sidebar-link">echarts 属性设置</a></li><li><a href="/Weblog/tool/错误监控.html" class="sidebar-link">错误监控</a></li><li><a href="/Weblog/tool/SEO.html" class="sidebar-link">SEO</a></li><li><a href="/Weblog/tool/util.html" class="sidebar-link">util</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="前端工程规范">前端工程规范</h1><h2 id="目的">目的</h2><p>工程配置主要是为了能够在团队开发中统一代码规范</p><ul><li>编辑器风格（EditorConfig、prettier）</li><li>代码规范和校验（eslint、stylint）</li><li>git提交规范（commitlint）</li></ul><h2 id="vscode-必备插件">vscode 必备插件</h2><ul><li><a href="https://link.segmentfault.com/?enc=syKz8gJk3ZmVwQMJqhPgmQ%3D%3D.xpGNJtGzB4Wa5fwBYRrrpKqe%2B2gZg6uJ5OeE7q5soXtna1ZkNNHSVd5BHgGZlpZ%2B2ITPEA9Klfzq3j%2BUACY6oXgmNABSvJtZEkM9ATFQfmM%3D" target="_blank" rel="noopener noreferrer">gitignore<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://link.segmentfault.com/?enc=KZR3jIwrm49O3uCEh8y6Jg%3D%3D.S9gj1Y4NqdEuVPqZhkcxluRlTyj4QzoZi5Mn6CAu%2FyN5TKfChF6k%2BICLiRQK4VVGi15gsIJT1BmbthlHj2ZWPL7C1d72I2jjh7WTEVhmPs0%3D" target="_blank" rel="noopener noreferrer">EditorConfig For vs Code<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://link.segmentfault.com/?enc=oKvoPVtqD1iQdgnVhsncoQ%3D%3D.KC1Gi9vuYafaQo5W67N1Rnhg6nAUiQb%2Fti5LKNUOzszZVqeuVTY8a8kUwnE3P7Ff5td6H7ydCqiB3njMKqvpN59SHWxTWJ%2B8gY5W3Tin0F4%3D" target="_blank" rel="noopener noreferrer">Prettier - Code formatter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://link.segmentfault.com/?enc=xVR9IQOpyWBChK4nabLf7g%3D%3D.r%2FiQWf5SHLbrULXkEPsXjOBAI3mpIP863HVPjhNWfhP0zm1rovClOjmZNkKfhmR2DFcHCU%2FUO3lvOE%2BJbGL9DjNOv%2F6PXANx32JDsmRWWTI%3D" target="_blank" rel="noopener noreferrer">ESLint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://link.segmentfault.com/?enc=ilStSfGCQpBBmw5ntFccfA%3D%3D.pukEVjhNzDvt5nICrO3Q3oEA7SqAq1lvraxwf2RKbdaDpBefzQTb2rbOvSSTgedX6bJVsI5pepemwfHjA%2FsksnXkPluvuRMXN9ovenz%2FQRk%3D" target="_blank" rel="noopener noreferrer">stylelint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h2 id="package-json">package.json</h2><div class="language- extra-class"><pre class="language-text"><code>npm init -y
</code></pre></div><h2 id="gitignore">.gitignore</h2><div class="language-irpf90 extra-class"><pre class="language-text"><code>touch .gitignore
</code></pre></div><h2 id="npmrc">.npmrc</h2><div class="language- extra-class"><pre class="language-text"><code>touch .npmrc

registry=https://registry.npm.taobao.org/
</code></pre></div><h2 id="readme-md">README.md</h2><div class="language-dos extra-class"><pre class="language-text"><code>touch README.md
</code></pre></div><h2 id="editorconfig">EditorConfig</h2><p>跨编辑器维护一致编码风格的配置</p><div class="language- extra-class"><pre class="language-text"><code>root = true

[*]
indent_style = tab
indent_size = 2
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true
end_of_line = lf

[*.md]
</code></pre></div><ul><li>trim_trailing_whitespace = false</li><li>indent_style 缩进风格，可选配置有 tab 和 space</li><li>indent_size 缩进大小</li><li>charset 编码格式</li><li>trim_trailing_whitespace 去除多余的空格</li><li>insert_final_newline 在尾部插入一行</li><li>end_of_line 换行符</li></ul><p>更多配置可以查看<a href="https://editorconfig.org/" target="_blank" rel="noopener noreferrer">EditorConfig<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="prettier">Prettier</h2><p><code>Prettier</code>统一项目风格</p><div class="language-irpf90 extra-class"><pre class="language-text"><code>touch .prettierrc
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tabWidth&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;endOfLine&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lf&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bracketSpacing&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;arrowParens&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>trailingComma</code> 对象的最后一个属性末尾添加<code>,</code></li><li><code>tabWidth</code> 缩进大小</li><li><code>semi</code> 末尾是否添加分号</li><li><code>singleQuote</code> 是否单引号</li><li><code>jsxSingleQuote</code> jsx 语法是否单引号</li><li><code>endOfLine</code> 与 .editorconfig 保持一致设置</li><li><code>printWidth</code> 单行代码最长字符长度，超过之后会自动格式化换行</li><li><code>bracketSpacing</code> 花括号里面有空格 <code>{a:1}</code> =&gt; <code>{ a: 1}</code></li><li><code>arrowParens</code> 箭头函数的参数括号包裹 <code>(a)=&gt;{}</code></li></ul><p>更多配置请查看<a href="https://link.segmentfault.com/?enc=3pRhcpeSEMVt0at0rRS7YQ%3D%3D.UFeeMIhX2d5fJwK0sCyRrZnKOMs%2FzhThC%2FwQWR7OUJE%3D" target="_blank" rel="noopener noreferrer">Prettier Playground<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h3 id="prettier-插件">prettier 插件</h3><p>vscode 安装扩展 <a href="https://link.segmentfault.com/?enc=SuVIdROWNK11vYqWRLXPXQ%3D%3D.6FpiAem9MYRsIGSd%2BV0lMfksXzrXUKtObrHLWjHrsXcfkGGf3LL0gV0hLvMMYFj%2FMQ7rhtT4GzQsdMdnNPi4QqLXmIXjFLrH%2BTq800qNNDQ%3D" target="_blank" rel="noopener noreferrer">Prettier - Code formatter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>根目录下新建文件夹<code>.vscode</code>，再此文件夹下新建<code>settings.json</code>:</p><div class="language-jboss-cli extra-class"><pre class="language-text"><code>mkdir .vscode
touch .vscode/settings.json
</code></pre></div><blockquote><p>该文件的配置优先于 vscode 全局的 <code>settings.json</code>，不过要在工作区 <code>workspace</code> 的根目录下才会生效。</p></blockquote><p><code>settings.json</code>配置：</p><div class="language-css extra-class"><pre class="language-css"><code><span class="token punctuation">{</span>
  <span class="token selector">// 指定哪些文件不参与搜索
  &quot;search.exclude&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;**/node_modules&quot;</span><span class="token punctuation">:</span> true<span class="token punctuation">,</span>
    <span class="token string">&quot;dist&quot;</span><span class="token punctuation">:</span> true<span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token punctuation">:</span> true<span class="token punctuation">,</span>
    <span class="token string">&quot;yarn.lock&quot;</span><span class="token punctuation">:</span> true<span class="token punctuation">,</span>
    <span class="token string">&quot;package-lock.json&quot;</span><span class="token punctuation">:</span> true
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;editor.formatOnSave&quot;: true,
  &quot;[javascript]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[javascriptreact]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[typescript]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[typescriptreact]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[json]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[html]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[markdown]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[css]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[less]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  &quot;[scss]&quot;:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;editor.defaultFormatter&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="eslint">ESLint</h2><p>安装成功后，执行以下命令：</p><div class="language-excel extra-class"><pre class="language-text"><code>npx eslint --init

//termail
1、How would you like to use ESLint?
= To check syntax, find problems, and enforce code style
2、What type of modules does your project use?
= JavaScript modules (import/export)
3、Which framework does your project use?
= React
4、Does your project use TypeScript?
= Typescript
5、Where does your code run?
= Browser &amp; Node
6、How would you like to define a style for your project?
= Use a popular style guide
7、Which style guide do you want to follow?
= Airbnb
8、What format do you want your config file to be in?
= JavaScript
9、Would you like to install them now with npm?
= Yes
</code></pre></div><p>对生成的<code>.eslintrc.js</code>文件，还要做以下修改：</p><ul><li>根据 <a href="https://link.segmentfault.com/?enc=Db8gFfmfpE53Toz07Xi%2BCg%3D%3D.FzJTw09z5cpW4Q7Ay64F0TaMe16YnKCDN0ghpRgYYZRnHWiXWFDODyUHT96IVSMyCPpLn%2Bhdv5F8%2F6%2FBvyPefg%3D%3D" target="_blank" rel="noopener noreferrer">eslint-config-airbnb<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 官方说明，如果要开启 React Hooks 的检查，需要在 extends 中添加一项 <code>'airbnb/hooks'</code> 。</li><li>根据 <a href="https://link.segmentfault.com/?enc=k8hJyWNuufmxHQbP%2Bg8RRA%3D%3D.u8JfdBqVy27EuziFl8YHbZYITKiz81sKjDo4MloLmGYbQ%2F1wC6%2FvcZBmQeGXfbUTH3tG5P8lknO6ND5nM3rCyg%3D%3D" target="_blank" rel="noopener noreferrer">@typescript-eslint/eslint-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 官方说明，在 extends 中添加 <code>'plugin:@typescript-eslint/recommended'</code> 可开启针对 ts 语法推荐的规则定义。</li><li>需要添加一条很重要的 <code>rule</code> ，不然在<code>typescript</code>中通过<code>import</code>导入会报错</li></ul><p>添加以下规则到 <code>rules</code> ：</p><div class="language-haxe extra-class"><pre class="language-haxe"><code>rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token string">'import/extensions'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    ERROR<span class="token punctuation">,</span>
    <span class="token string">'ignorePackages'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      ts<span class="token punctuation">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>
      tsx<span class="token punctuation">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>
      json<span class="token punctuation">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>
      js<span class="token punctuation">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>添加<code>settings</code>配置：</p><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">settings:</span> <span class="token punctuation">{</span>
    <span class="token string">'import/resolver'</span><span class="token selector">:</span> <span class="token punctuation">{</span>
        <span class="token selector">node:</span> <span class="token punctuation">{</span>
            <span class="token property">extensions</span><span class="token punctuation">:</span> [<span class="token string">'.tsx'</span><span class="token punctuation">,</span> <span class="token string">'.ts'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span>]<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="eslint-和-prettier-的冲突">ESLint 和 Prettier 的冲突</h3><blockquote><p>配置完会发现，<code>vscode</code>一直在标红，因为<code>eslint</code>的配置规则跟<code>prettier</code>冲突了</p></blockquote><p>安装 <code>eslint-config-prettier</code>:</p><div class="language-mipsasm extra-class"><pre class="language-text"><code>npm install eslint-config-prettier -D
</code></pre></div><p>添加以下配置到 <code>.eslintrc.js</code> 的 <code>extends</code> 中：</p><div class="language-scala extra-class"><pre class="language-scala"><code><span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// other configs ...</span>
    <span class="token string">'prettier'</span><span class="token punctuation">,</span>
    <span class="token string">'prettier/@typescript-eslint'</span><span class="token punctuation">,</span>
    <span class="token string">'prettier/react'</span><span class="token punctuation">,</span>
    <span class="token string">'prettier/unicorn'</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="eslint-扩展插件">eslint 扩展插件</h3><ul><li><code>eslint-plugin-promise</code> 让你把 Promise 语法写成最佳实践</li><li><code>eslint-plugin-unicorn</code> 提供了更多有用的配置项</li></ul><p>修改<code>.eslintrc.js</code>文件如下：</p><div class="language- extra-class"><pre class="language-text"><code>const OFF = 0
const WARN = 1
const ERROR = 2

module.exports = {
  env: {
    browser: true,
    es2021: true,
    node: true,
  },
  extends: ['airbnb', 'airbnb/hooks', 'plugin:react/recommended', 'plugin:unicorn/recommended', 'plugin:promise/recommended', 'plugin:@typescript-eslint/recommended', 'prettier', 'prettier/@typescript-eslint', 'prettier/react', 'prettier/unicorn'],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaFeatures: {
      jsx: true,
    },
    ecmaVersion: 12,
    sourceType: 'module',
  },
  settings: {
    'import/resolver': {
      node: {
        extensions: ['.tsx', '.ts', '.js', '.json'],
      },
    },
  },
  plugins: ['react', '@typescript-eslint', 'unicorn', 'promise'],
  rules: {
    'global-require': OFF,
    'no-var': WARN,
    'no-use-before-define': OFF,
    'no-unused-vars': OFF,
    'no-useless-constructor': OFF,
    'no-plusplus': OFF,
    'react/jsx-filename-extension': [ERROR, { extensions: ['.js', '.jsx', '.ts', '.tsx'] }],
    'react/state-in-constructor': OFF,
    'react/prefer-stateless-function': OFF,
    'react/jsx-props-no-spreading': OFF,
    'react/display-name': OFF,
    'react/static-property-placement': OFF,
    'react/require-default-props': OFF,
    'react/no-unused-prop-types': OFF,
    'react/destructuring-assignment': OFF,
    'react/jsx-no-target-blank': OFF,
    /** -- */
    'max-classes-per-file': [ERROR, 3],
    camelcase: OFF,
    'no-console': OFF,
    'no-shadow': OFF,
    'no-void': OFF,
    'prefer-const': OFF,
    'prefer-destructuring': OFF,
    'prefer-object-spread': OFF,
    '@typescript-eslint/explicit-module-boundary-types': OFF,
    '@typescript-eslint/no-unused-vars': [
      OFF,
      // {
      //   vars: 'all',
      //   args: 'none',
      //   ignoreRestSiblings: true,
      // },
    ],
    '@typescript-eslint/no-var-requires': OFF,
    '@typescript-eslint/no-explicit-any': OFF,
    '@typescript-eslint/no-empty-interface': OFF,
    '@typescript-eslint/no-empty-function': OFF,
    '@typescript-eslint/ban-types': OFF,
    'import/prefer-default-export': OFF,
    'import/order': OFF,
    'import/extensions': [
      ERROR,
      'ignorePackages',
      {
        ts: 'never',
        tsx: 'never',
        json: 'never',
        js: 'never',
      },
    ],
    'import/no-extraneous-dependencies': [ERROR, { devDependencies: true }],
    /** alias 失效 */
    'import/no-unresolved': [
      ERROR,
      {
        ignore: ['src', 'components', 'utils'] /** 设置的路径别名 */,
      },
    ],
    'unicorn/consistent-function-scoping': OFF,
    'unicorn/import-style': OFF,
    'unicorn/no-null': OFF,
    'unicorn/prevent-abbreviations': OFF,
    'unicorn/filename-case': OFF,
    // 'unicorn/filename-case': [
    //   ERROR,
    //   {
    //     cases: {
    //       // 中划线
    //       kebabCase: true,
    //       // 小驼峰
    //       camelCase: true,
    //       // 下划线
    //       snakeCase: true,
    //       // 大驼峰
    //       pascalCase: true,
    //     },
    //   },
    // ],
    'func-names': [ERROR, 'as-needed'],
    'jsx-a11y/click-events-have-key-events': OFF,
    'jsx-a11y/no-noninteractive-element-interactions': OFF,
    'react/self-closing-comp': OFF,
    'consistent-return': OFF,
    'no-unused-expressions': OFF,
    'arrow-body-style': OFF,
    'react-hooks/exhaustive-deps': OFF,
    'lines-between-class-members': OFF,
  },
}

</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>下面罗列一些，一些规则的含义：、
“off” or 0 - 关闭(禁用)规则 
“warn” or 1 - 将规则视为一个警告（并不会导致检查不通过） 
“error” or 2 - 将规则视为一个错误 (退出码为1，检查不通过) 
 
.常用规则
类别 描述
Possible Errors 可能的错误或逻辑错误
no-cond-assign 禁止条件表达式中出现模棱两可的赋值操作符
no-console 禁用console
no-constant-condition 禁止在条件中使用常量表达式
no-debugger 禁用 debugger
no-dupe-args 禁止 function 定义中出现重名参数
no-dupe-keys 禁止对象字面量中出现重复的 key
no-duplicate-case 禁止出现重复的 case 标签
no-empty 禁止出现空语句块
no-ex-assign 禁止对 catch 子句的参数重新赋值
no-extra-boolean-cast 禁止不必要的布尔转换
no-extra-parens 禁止不必要的括号
no-extra-semi 禁止不必要的分号
no-func-assign 禁止对 function 声明重新赋值
no-inner-declarations 禁止在嵌套的块中出现变量声明或 function 声明
no-irregular-whitespace 禁止在字符串和注释之外不规则的空白
no-obj-calls 禁止把全局对象作为函数调用
no-sparse-arrays 禁用稀疏数组
no-prototype-builtins 禁止直接使用Object.prototypes 的内置属性
no-unexpected-multiline 禁止出现令人困惑的多行表达式
no-unreachable 禁止在return、throw、continue 和 break语句之后出现不可达代码
use-isnan 要求使用 isNaN() 检查 NaN
valid-typeof 强制 typeof 表达式与有效的字符串进行比较
—– —–
Best Practices 最佳实践
array-callback-return 强制数组方法的回调函数中有 return 语句
block-scoped-var 强制把变量的使用限制在其定义的作用域范围内
complexity 指定程序中允许的最大环路复杂度
consistent-return 要求 return 语句要么总是指定返回的值，要么不指定
curly 强制所有控制语句使用一致的括号风格
default-case 要求 switch 语句中有 default 分支
dot-location 强制在点号之前和之后一致的换行
dot-notation 强制在任何允许的时候使用点号
eqeqeq 要求使用 === 和 !==
guard-for-in 要求 for-in 循环中有一个 if 语句
no-alert 禁用 alert、confirm 和 prompt
no-case-declarations 不允许在 case 子句中使用词法声明
no-else-return 禁止 if 语句中有 return 之后有 else
no-empty-function 禁止出现空函数
no-eq-null 禁止在没有类型检查操作符的情况下与 null 进行比较
no-eval 禁用 eval()
no-extra-bind 禁止不必要的 .bind() 调用
no-fallthrough 禁止 case 语句落空
no-floating-decimal 禁止数字字面量中使用前导和末尾小数点
no-implicit-coercion 禁止使用短符号进行类型转换
no-implicit-globals 禁止在全局范围内使用 var 和命名的 function 声明
no-invalid-this: 禁止 this 关键字出现在类和类对象之外
no-lone-blocks 禁用不必要的嵌套块
no-loop-func 禁止在循环中出现 function 声明和表达式
no-magic-numbers 禁用魔术数字
no-multi-spaces 禁止使用多个空格
no-multi-str 禁止使用多行字符串
no-new 禁止在非赋值或条件语句中使用 new 操作符
no-new-func 禁止对 Function 对象使用 new 操作符
no-new-wrappers 禁止对 String，Number 和 Boolean 使用 new 操作符
no-param-reassign 不允许对 function 的参数进行重新赋值
no-redeclare 禁止使用 var 多次声明同一变量
no-return-assign 禁止在 return 语句中使用赋值语句
no-script-url 禁止使用 javascript: url
no-self-assign 禁止自我赋值
no-self-compare 禁止自身比较
no-sequences 禁用逗号操作符
no-unmodified-loop-condition 禁用一成不变的循环条件
no-unused-expressions 禁止出现未使用过的表达式
no-useless-call 禁止不必要的 .call() 和 .apply()
no-useless-concat 禁止不必要的字符串字面量或模板字面量的连接
vars-on-top 要求所有的 var 声明出现在它们所在的作用域顶部
—– —–
Strict Mode 使用严格模式和严格模式指
strict 要求或禁止使用严格模式指令
—– —–
Variables 变量声明
init-declarations 要求或禁止 var 声明中的初始化
no-catch-shadow 不允许 catch 子句的参数与外层作用域中的变量同名
no-restricted-globals 禁用特定的全局变量
no-shadow 禁止 var 声明 与外层作用域的变量同名
no-undef 禁用未声明的变量，除非它们在 /global / 注释中被提到
no-undef-init 禁止将变量初始化为 undefined
no-unused-vars 禁止出现未使用过的变量
no-use-before-define 不允许在变量定义之前使用它们
—– —–
Nodejs and CommonJS Node.js,CommonJS
global-require 要求 require() 出现在顶层模块作用域中
handle-callback-err 要求回调函数中有容错处理
no-mixed-requires 禁止混合常规 var 声明和 require 调用
no-new-require 禁止调用 require 时使用 new 操作符
no-path-concat 禁止对 dirname 和 filename进行字符串连接
no-restricted-modules 禁用指定的通过 require 加载的模块
—– —–
Stylistic Issues 风格指南
array-bracket-spacing 强制数组方括号中使用一致的空格
block-spacing 强制在单行代码块中使用一致的空格
brace-style 强制在代码块中使用一致的大括号风格
camelcase 强制使用骆驼拼写法命名约定
comma-spacing 强制在逗号前后使用一致的空格
comma-style 强制使用一致的逗号风格
computed-property-spacing 强制在计算的属性的方括号中使用一致的空格
eol-last 强制文件末尾至少保留一行空行
func-names 强制使用命名的 function 表达式
func-style 强制一致地使用函数声明或函数表达式
indent 强制使用一致的缩进
jsx-quotes 强制在 JSX 属性中一致地使用双引号或单引号
key-spacing 强制在对象字面量的属性中键和值之间使用一致的间距
keyword-spacing 强制在关键字前后使用一致的空格
linebreak-style 强制使用一致的换行风格
lines-around-comment 要求在注释周围有空行
max-depth 强制可嵌套的块的最大深度
max-len 强制一行的最大长度
max-lines 强制最大行数
max-nested-callbacks 强制回调函数最大嵌套深度
max-params 强制 function 定义中最多允许的参数数量
max-statements 强制 function 块最多允许的的语句数量
max-statements-per-line 强制每一行中所允许的最大语句数量
new-cap 要求构造函数首字母大写
new-parens 要求调用无参构造函数时有圆括号
newline-after-var 要求或禁止 var 声明语句后有一行空行
newline-before-return 要求 return 语句之前有一空行
newline-per-chained-call 要求方法链中每个调用都有一个换行符
no-array-constructor 禁止使用 Array 构造函数
no-continue 禁用 continue 语句
no-inline-comments 禁止在代码行后使用内联注释
no-lonely-if 禁止 if 作为唯一的语句出现在 else 语句中
no-mixed-spaces-and-tabs 不允许空格和 tab 混合缩进
no-multiple-empty-lines 不允许多个空行
no-negated-condition 不允许否定的表达式
no-plusplus 禁止使用一元操作符 ++ 和 –
no-spaced-func 禁止 function 标识符和括号之间出现空格
no-ternary 不允许使用三元操作符
no-trailing-spaces 禁用行尾空格
no-whitespace-before-property 禁止属性前有空白
object-curly-newline 强制花括号内换行符的一致性
object-curly-spacing 强制在花括号中使用一致的空格
object-property-newline 强制将对象的属性放在不同的行上
one-var 强制函数中的变量要么一起声明要么分开声明
one-var-declaration-per-line 要求或禁止在 var 声明周围换行
operator-assignment 要求或禁止在可能的情况下要求使用简化的赋值操作符
operator-linebreak 强制操作符使用一致的换行符
quote-props 要求对象字面量属性名称用引号括起来
quotes 强制使用一致的反勾号、双引号或单引号
require-jsdoc 要求使用 JSDoc 注释
semi 要求或禁止使用分号而不是 ASI
semi-spacing 强制分号之前和之后使用一致的空格
sort-vars 要求同一个声明块中的变量按顺序排列
space-before-blocks 强制在块之前使用一致的空格
space-before-function-paren 强制在 function的左括号之前使用一致的空格
space-in-parens 强制在圆括号内使用一致的空格
space-infix-ops 要求操作符周围有空格
space-unary-ops 强制在一元操作符前后使用一致的空格
spaced-comment 强制在注释中 // 或 /* 使用一致的空格
</code></pre></div><h3 id="eslint-vscode-配置">eslint vscode 配置</h3><p><a href="https://link.segmentfault.com/?enc=9qeQs4YljRt%2FCKb90IDRyQ%3D%3D.%2FJETVIWKW6cHMC2y%2BXemr%2FE3v98uRyGku%2BpKYVhvjksarY%2Fd6tBqp9F%2BsmrY%2FOrOJMTK8Wwf6JWpbufGiD9mPVGBjSCcJjykxoYeumFRO%2FA%3D" target="_blank" rel="noopener noreferrer">ESLint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 插件可以提供编辑器自动修复功能</p><p>安装完成添加配置到 <code>.vscode/settings.json</code> ：</p><div class="language-json extra-class"><pre class="language-json"><code>  <span class="token property">&quot;eslint.validate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;javascriptreact&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;typescript&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;typescriptreact&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;typescript.tsdk&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./node_modules/typescript/lib&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 代替 vscode 的 ts 语法智能提示</span>
  <span class="token property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="eslintignore-和-prettierignore">.eslintignore 和 .prettierignore</h2><p>新建 <code>.eslintignore</code> 和 <code>.prettierignore</code>:</p><div class="language-jboss-cli extra-class"><pre class="language-text"><code>touch .eslintignore .prettierignore
</code></pre></div><p>输入以下内容：</p><div class="language-jboss-cli extra-class"><pre class="language-text"><code>/node_modules
/build
/dist
</code></pre></div><h2 id="stylelint">StyleLint</h2><p>接下来统一样式风格，安装两个的依赖包包：</p><div class="language-mipsasm extra-class"><pre class="language-text"><code>npm install stylelint stylelint-config-standard -D
</code></pre></div><p>项目根目录新建 <code>.stylelintrc.js</code> 文件:</p><div class="language-irpf90 extra-class"><pre class="language-text"><code>touch .stylelintrc.js
</code></pre></div><p>输入以下内容：</p><div class="language-scala extra-class"><pre class="language-scala"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'stylelint-config-standard'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  rules<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'comment-empty-line-before'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'declaration-empty-line-before'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'function-name-case'</span><span class="token operator">:</span> <span class="token string">'lower'</span><span class="token punctuation">,</span>
    <span class="token string">'no-descending-specificity'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'no-invalid-double-slash-comments'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'rule-empty-line-before'</span><span class="token operator">:</span> <span class="token string">'always'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ignoreFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules/**/*'</span><span class="token punctuation">,</span> <span class="token string">'build/**/*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>extends</code> 预设规则扩展</li><li><code>rules</code> 具体的规则</li><li><code>ignoreFiles</code> 忽略配置字段</li></ul><blockquote><p><code>vscode</code>同步配套插件 <a href="https://link.segmentfault.com/?enc=9mfTamT1VQ5MNkxoi747ow%3D%3D.JMjHf%2FvYg2JCLCFmwgcR6URgPL%2F5M8%2F6l6fVDAu1vR7uEVxKYG6hA6q1F4QjIXc0imFIcXe3w7W%2BvNfT1hPzJtaYdlpeu1BFee8z%2FWlTg80%3D" target="_blank" rel="noopener noreferrer">stylelint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote><p><code>.vscode/settings.json</code>中新增以下代码：</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token comment">// 使用 stylelint 自身的校验即可</span>
  <span class="token property">&quot;css.validate&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;less.validate&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scss.validate&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;source.fixAll.stylelint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="stylelint-extends-和-stylelint-plugins">stylelint extends 和 stylelint plugins</h3><ul><li><a href="https://link.segmentfault.com/?enc=C3aafCi5PABNf4CCxMN3GA%3D%3D.itKYnk5Sqk4nZhPEiM1XX6ZHdzGn8Iz0K%2BCpWcfcb3x2XktksNfbFMDk2QTOaLKLKrBYVKWMcBDtUnrh3k1K5Q%3D%3D" target="_blank" rel="noopener noreferrer">stylelint-config-rational-order<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 对关联属性进行分组和排序</li><li><a href="https://link.segmentfault.com/?enc=qyBl8JT%2By5P%2BTVsKbUfzZQ%3D%3D.FP%2B1UA%2FUjtj5twgbi%2B%2BFHT%2BFdssuRiVe%2BFFo7scO6suRf4SF50R7nFCGOzirZdHeIfH6u%2BZpyi2pUUjsE5tQcGXlHXBVzLxVarVVBa3tgK2w20bHlzjoaBqzKRI%2Bu5Ds" target="_blank" rel="noopener noreferrer">stylelint-declaration-block-no-ignored-properties<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 矛盾样式忽略</li></ul><div class="language-mipsasm extra-class"><pre class="language-text"><code>npm install stylelint-order stylelint-config-rational-order stylelint-declaration-block-no-ignored-properties -D
</code></pre></div><p>修改配置文件如下：</p><div class="language-scala extra-class"><pre class="language-scala"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'stylelint-config-standard'</span><span class="token punctuation">,</span> <span class="token string">'stylelint-config-rational-order'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'stylelint-order'</span><span class="token punctuation">,</span> <span class="token string">'stylelint-declaration-block-no-ignored-properties'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  rules<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'plugin/declaration-block-no-ignored-properties'</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">'comment-empty-line-before'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'declaration-empty-line-before'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'function-name-case'</span><span class="token operator">:</span> <span class="token string">'lower'</span><span class="token punctuation">,</span>
    <span class="token string">'no-descending-specificity'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'no-invalid-double-slash-comments'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'rule-empty-line-before'</span><span class="token operator">:</span> <span class="token string">'always'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 ignoreFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules/**/*'</span><span class="token punctuation">,</span> <span class="token string">'build/**/*'</span><span class="token punctuation">,</span> <span class="token string">'dist/**/*'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="解决-stylelint-和-prettier-的冲突">解决 Stylelint 和 Prettier 的冲突</h2><p>安装 <code>stylelint-config-prettier</code>:</p><p>添加以下配置到 .stylelintrc.js 的 extends 中：</p><div class="language-actionscript extra-class"><pre class="language-actionscript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// extends: ['stylelint-config-standard', 'stylelint-config-rational-order', 'stylelint-config-prettier'],</span>
  <span class="token comment">// plugins: ['stylelint-order', 'stylelint-declaration-block-no-ignored-properties', 'stylelint-scss'],</span>
  <span class="token keyword">extends</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 'plugin/declaration-block-no-ignored-properties': true,</span>
    <span class="token comment">// 'comment-empty-line-before': null,</span>
    <span class="token comment">// 'declaration-empty-line-before': null,</span>
    <span class="token comment">// 'function-name-case': 'lower',</span>
    <span class="token comment">// 'no-descending-specificity': null,</span>
    <span class="token comment">// 'no-invalid-double-slash-comments': null,</span>
    <span class="token comment">// 'rule-empty-line-before': 'always',</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ignoreFiles<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules/**/*'</span><span class="token punctuation">,</span> <span class="token string">'build/**/*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="lint-命令">lint 命令</h2><p>我们在 package.json 的 scripts 中增加以下三个配置：</p><div class="language-json extra-class"><pre class="language-json"><code> <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run lint-eslint &amp;&amp; npm run lint-stylelint&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lint-eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint -c .eslintrc.js --ext .ts,.tsx,.js src&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lint-stylelint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stylelint --config .stylelintrc.js src/**/*.{less,css,scss}&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="lint-staged">lint-staged</h2><blockquote><p>只针对 git 缓存区最新改动过的文件进行 格式化 和 lint 规则校验</p></blockquote><h3 id="husky">husky</h3><p><code>husky</code>可以提供一些钩子，比如执行 <code>git commit</code> 之前的钩子 <code>pre-commit</code> ，借助这个钩子我们就能执行 <code>lint-staged</code> 所提供的代码文件格式化及 <code>lint</code> 规则校验。</p><p>如果项目开始前没有初始化的<code>.git</code>文件，要先初始化git，否则<code>husky</code>会安装失败:</p><div class="language-csharp extra-class"><pre class="language-csharp"><code>git init
</code></pre></div><p>安装 <code>lint-staged</code> 和 <code>husky</code> :</p><div class="language-brainfuck extra-class"><pre class="language-brainfuck"><code><span class="token comment">npm</span> <span class="token comment">install</span> <span class="token comment">husky</span> <span class="token comment">lint</span><span class="token decrement deleted">-</span><span class="token comment">staged</span> <span class="token decrement deleted">-</span><span class="token comment">D</span>
</code></pre></div><p>在 <code>package.json</code> 中添加以下代码:</p><div class="language-prolog extra-class"><pre class="language-prolog"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;hooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;pre-commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lint-staged&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;*.{ts,tsx,js}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;eslint --config .eslintrc.js&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;*.{css,less,scss}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;stylelint --config .stylelintrc.js&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;*.{ts,tsx,js,json,html,yml,css,less,scss,md}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;prettier --write&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="commitlint-changelog">commitlint + changelog</h2><blockquote><p>在多人协作的项目中，如果 git 的提交说明精准，在后期协作以及 bug 处理时会变得有据可查，项目的开发可以根据规范的提交说明快速生成开发日志，从而方便开发者或用户追踪项目的开发信息和功能特性。
建议阅读 <a href="https://link.segmentfault.com/?enc=FBvL9FuGTuyopK1k6tYImw%3D%3D.mnOcnW9mxGlZDolz7yYvFjo3%2FSJ1QSWZfdSBfp30wfcLt9vpSr8WSU2ec0uiKuKsD2HTMAQY7VEJsL1IWJ5l301DP1OM9hO67PCAXqZ6Xqc%3D" target="_blank" rel="noopener noreferrer">Commit message 和 Change log 编写指南（阮一峰）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote><div class="language- extra-class"><pre class="language-text"><code>commitlint` 可以帮助我们在 `git commit` 时校验 `message` 格式是否符合规范，`conventional-changelog` 可以帮助我们快速生成 `changelog
</code></pre></div><blockquote><p><a href="https://link.segmentfault.com/?enc=jEdCKPXqvAZKFezP8q%2BFyQ%3D%3D.Yx3TtS3rBP2uRAoe2BcGSlxH9IBFRzvFHbaCHElH%2FnnI%2B1E0RjJpWf383s%2B4Bryw" target="_blank" rel="noopener noreferrer">commitizen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 可以在命令行中进行可视化的 git commit 操作，这里不作配置</p></blockquote><p>安装 <code>commitlint</code> 相关依赖:</p><div class="language-coffeescript extra-class"><pre class="language-coffeescript"><code>npm install <span class="token class-member variable">@commitlint</span><span class="token operator">/</span>cli <span class="token class-member variable">@commitlint</span><span class="token operator">/</span>config<span class="token operator">-</span>conventional <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p><a href="https://link.segmentfault.com/?enc=uf7iHDJ3ouTgGpIsmPf1jw%3D%3D.Am3WYjdCsRFIczWnOIFAiFsphQIqiTtezymqnMCjE2aohgZzBYW05TwUqlpbHsEqX3iXgWwAnbCvfJxRO4eZItE3VX295HhAA1uS9wHXr7Ghx%2BbAB1nsptKex72BusIfKT%2BeQ%2B7d%2Fwf3J1ZXzoD%2Ftg%3D%3D" target="_blank" rel="noopener noreferrer">@commitlint/config-conventional<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 类似 <code>eslint</code> 配置文件中的 <code>extends</code> ，它是官方推荐的 angular 风格的 <code>commitlint</code> 配置，提供了少量的 lint 规则</p><p>根目录新建文件 <code>.commitlintrc.js</code> :</p><div class="language-irpf90 extra-class"><pre class="language-text"><code>touch .commitlintrc.js
</code></pre></div><p>写入以下代码：</p><div class="language-ada extra-class"><pre class="language-ada"><code><span class="token operator">/</span><span class="token operator">**</span>
 <span class="token operator">*</span> <span class="token variable">build</span> <span class="token punctuation">:</span> 改变了<span class="token variable">build</span>工具 如 <span class="token variable">webpack</span>
 <span class="token operator">*</span> <span class="token variable">ci</span> <span class="token punctuation">:</span> 持续集成新增
 <span class="token operator">*</span> <span class="token variable">chore</span> <span class="token punctuation">:</span> 构建过程或辅助工具的变动
 <span class="token operator">*</span> <span class="token variable">feat</span> <span class="token punctuation">:</span> 新功能
 <span class="token operator">*</span> <span class="token variable">docs</span> <span class="token punctuation">:</span> 文档改变
 <span class="token operator">*</span> <span class="token variable">fix</span> <span class="token punctuation">:</span> 修复<span class="token variable">bug</span>
 <span class="token operator">*</span> <span class="token variable">perf</span> <span class="token punctuation">:</span> 性能优化
 <span class="token operator">*</span> <span class="token variable">refactor</span> <span class="token punctuation">:</span> 某个已有功能重构
 <span class="token operator">*</span> <span class="token variable">revert</span> <span class="token punctuation">:</span> 撤销上一次的 <span class="token variable">commit</span>
 <span class="token operator">*</span> <span class="token variable">style</span> <span class="token punctuation">:</span> 代码格式改变
 <span class="token operator">*</span> <span class="token variable">test</span> <span class="token punctuation">:</span> 增加测试
 <span class="token operator">*</span> <span class="token variable">anno</span><span class="token punctuation">:</span> 增加注释
 <span class="token operator">*</span><span class="token operator">/</span>

<span class="token variable">module</span><span class="token punctuation">.</span><span class="token variable">exports</span> <span class="token operator">=</span> {
  <span class="token variable">extends</span><span class="token punctuation">:</span> ['@<span class="token variable">commitlint</span><span class="token operator">/</span><span class="token variable">config</span><span class="token operator">-</span><span class="token variable">conventional</span>']<span class="token punctuation">,</span>
  <span class="token variable">rules</span><span class="token punctuation">:</span> {
    '<span class="token keyword">type</span><span class="token operator">-</span><span class="token variable">enum</span>'<span class="token punctuation">:</span> [
      <span class="token number">2</span><span class="token punctuation">,</span>
      '<span class="token variable">always</span>'<span class="token punctuation">,</span>
      ['<span class="token variable">build</span>'<span class="token punctuation">,</span> '<span class="token variable">ci</span>'<span class="token punctuation">,</span> '<span class="token variable">chore</span>'<span class="token punctuation">,</span> '<span class="token variable">docs</span>'<span class="token punctuation">,</span> '<span class="token variable">feat</span>'<span class="token punctuation">,</span> '<span class="token variable">fix</span>'<span class="token punctuation">,</span> '<span class="token variable">perf</span>'<span class="token punctuation">,</span> '<span class="token variable">refactor</span>'<span class="token punctuation">,</span> '<span class="token variable">revert</span>'<span class="token punctuation">,</span> '<span class="token variable">style</span>'<span class="token punctuation">,</span> '<span class="token variable">test</span>'<span class="token punctuation">,</span> '<span class="token variable">anno</span>']<span class="token punctuation">,</span>
    ]<span class="token punctuation">,</span>
  }<span class="token punctuation">,</span>
}<span class="token punctuation">;</span>
</code></pre></div><p><code>package.json</code> 的 <code>husky</code> 配置，增加一个钩子：</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;pre-commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lint-staged&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commit-msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commitlint --config .commitlintrc.js -E HUSKY_GIT_PARAMS&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>-E HUSKY_GIT_PARAMS</code> 简单理解就是会拿到我们的 message ，然后 commitlint 再去进行 lint 校验。</p><p>安装依赖<code>changelog</code>：</p><div class="language-avrasm extra-class"><pre class="language-text"><code>npm install conventional-changelog-cli -D
</code></pre></div><p>在 package.json 的 scripts 下增加一个命令:</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;changelog&quot;</span><span class="token operator">:</span> <span class="token string">&quot;conventional-changelog -p angular -i CHANGELOG.md -s&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>之后就可以通过 <code>npm run changelog</code> 生成 angular 风格的 <code>changelog</code> ，需要注意的是，上面这条命令产生的 <code>changelog</code> 是基于上次 tag 版本之后的变更（<code>feat</code>、<code>fix</code> 等等）所产生</p></div><div class="page-edit"><!----><!----></div><!----></div></div></div>
    <script src="/Weblog/assets/js/app.bc17a3fe.js" defer></script><script src="/Weblog/assets/js/99.0ff7167d.js" defer></script>
  </body>
</html>
